<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    
    <title>在Ubuntu Server上配置CUDA环境 | Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="在配置Ubuntu Server的CUDA和TensorFlow的过程中，遇到了很多问题（驱动无法正常运行、CUDA无法正常配置等等），在网上找了很多资料，最终正确安装驱动、CUDA、cuDNN和TensorFlow（GPU版本），因此将安装过程记录下来，方便以后再配环境。">
<meta name="keywords" content="Configuration">
<meta property="og:type" content="article">
<meta property="og:title" content="在Ubuntu Server上配置CUDA环境">
<meta property="og:url" content="http://www.cyprestar.com/2018/08/15/Install-CUDA-on-Ubuntu-Server/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="在配置Ubuntu Server的CUDA和TensorFlow的过程中，遇到了很多问题（驱动无法正常运行、CUDA无法正常配置等等），在网上找了很多资料，最终正确安装驱动、CUDA、cuDNN和TensorFlow（GPU版本），因此将安装过程记录下来，方便以后再配环境。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-08-15T14:23:59.680Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="在Ubuntu Server上配置CUDA环境">
<meta name="twitter:description" content="在配置Ubuntu Server的CUDA和TensorFlow的过程中，遇到了很多问题（驱动无法正常运行、CUDA无法正常配置等等），在网上找了很多资料，最终正确安装驱动、CUDA、cuDNN和TensorFlow（GPU版本），因此将安装过程记录下来，方便以后再配环境。">
    

    

    
        <link rel="icon" href="/css/images/favicon.png">
    

    <link rel="stylesheet" href="/libs/font-awesome5/css/fontawesome.min.css">
    <link rel="stylesheet" href="/libs/font-awesome5/css/fa-brands.min.css">
    <link rel="stylesheet" href="/libs/font-awesome5/css/fa-solid.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-74183669-1', 'auto');
ga('send', 'pageview');

</script>
    
    
        <meta name="google-site-verification" content="googleec07a47add56e5b0">
    
    
        <script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?7a644dceb2233a88eaca2d202ad70727";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>

    


</head>
</html>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">Blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">首页</a>
                
                    <a class="main-nav-link" href="/archives">归档</a>
                
                    <a class="main-nav-link" href="/about">关于</a>
                
                    <a class="main-nav-link" href="/rss.xml">RSS</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png">
                            <i class="fas fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form" method="GET" action="https://www.baidu.com/s?">
    <input name="wd" type="text" class="search-form-input" placeholder="搜索">
    <button type="submit" class="search-form-submit"></button>
</form>
<script>
(function ($) {
    $('.search-form').on('submit', function (e) {
        var keyword = $('.search-form-input[name="wd"]').val();
        window.location = 'https://www.baidu.com/s?wd=site:www.cyprestar.com ' + keyword;
        return false;
    });
})(jQuery);
</script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">首页</a></td>
                
                    <td><a class="main-nav-link" href="/archives">归档</a></td>
                
                    <td><a class="main-nav-link" href="/about">关于</a></td>
                
                    <td><a class="main-nav-link" href="/rss.xml">RSS</a></td>
                
                <td>
                    
    <form class="search-form" method="GET" action="https://www.baidu.com/s?">
    <input name="wd" type="text" class="search-form-input" placeholder="搜索">
    <button type="submit" class="search-form-submit"></button>
</form>
<script>
(function ($) {
    $('.search-form').on('submit', function (e) {
        var keyword = $('.search-form-input[name="wd"]').val();
        window.location = 'https://www.baidu.com/s?wd=site:www.cyprestar.com ' + keyword;
        return false;
    });
})(jQuery);
</script>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile" class="">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png">
            <h2 id="name">Zhilong</h2>
            <h3 id="title">A CS Student</h3>
            <span id="location"><i class="fas fa-map-marker-alt" style="padding-right: 5px"></i>北京, 中国</span>
            <a id="follow" target="_blank" href="http://github.com/thesharing/">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                6
                <span>文章</span>
            </div>
            <div class="article-info-block">
                5
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/thesharing/" target="_blank" title="github" class="tooltip">
                            <i class="fab fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://stackoverflow.com/users/3467196/thesharing?tab=profile" target="_blank" title="stack-overflow" class="tooltip">
                            <i class="fab fa-stack-overflow"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://steamcommunity.com/id/cyprestar/" target="_blank" title="steam" class="tooltip">
                            <i class="fab fa-steam"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://www.instagram.com/cyprestar/" target="_blank" title="instagram" class="tooltip">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://weibo.com/sharinginworld/" target="_blank" title="weibo" class="tooltip">
                            <i class="fab fa-weibo"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.facebook.com/cyprestar/" target="_blank" title="facebook" class="tooltip">
                            <i class="fab fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://twitter.com/cyprestar/" target="_blank" title="twitter" class="tooltip">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-Install-CUDA-on-Ubuntu-Server" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            在Ubuntu Server上配置CUDA环境
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/08/15/Install-CUDA-on-Ubuntu-Server/">
            <time datetime="2018-08-15T03:00:09.000Z" itemprop="datePublished">2018-08-15</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/Basic/">Basic</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Configuration/">Configuration</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>在配置Ubuntu Server的CUDA和TensorFlow的过程中，遇到了很多问题（驱动无法正常运行、CUDA无法正常配置等等），在网上找了很多资料，最终正确安装驱动、CUDA、cuDNN和TensorFlow（GPU版本），因此将安装过程记录下来，方便以后再配环境。</p>
<a id="more"></a>
<p>版本要求：</p>
<ul>
<li>Ubuntu 16.04 LTS</li>
<li>CUDA 9.0</li>
<li>cuDNN v7</li>
<li>Python 3.6</li>
<li>TensorFlow r1.10</li>
<li>PyTorch 0.4.1</li>
</ul>
<h2 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1 准备工作"></a>1 准备工作</h2><h3 id="1-1-检查GPU是否符合CUDA运行要求"><a href="#1-1-检查GPU是否符合CUDA运行要求" class="headerlink" title="1.1 检查GPU是否符合CUDA运行要求"></a>1.1 检查GPU是否符合CUDA运行要求</h3><p>在Shell中运行命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lspci | grep -i nvidia</span><br></pre></td></tr></table></figure>
<p>查看GPU型号，然后在<a href="https://developer.nvidia.com/cuda-gpus" target="_blank" rel="noopener">https://developer.nvidia.com/cuda-gpus</a>页面中查找设备的GPU是否在支持CUDA的列表中。</p>
<h3 id="1-2-检查GCC版本"><a href="#1-2-检查GCC版本" class="headerlink" title="1.2 检查GCC版本"></a>1.2 检查GCC版本</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc --version</span><br></pre></td></tr></table></figure>
<p>对于Ubuntu 16.04来说，gcc版本需要&gt;5.4.0。</p>
<h3 id="1-3-检查Kernel版本"><a href="#1-3-检查Kernel版本" class="headerlink" title="1.3 检查Kernel版本"></a>1.3 检查Kernel版本</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -r</span><br></pre></td></tr></table></figure>
<p>对于Ubuntu 16.04来说，内核版本需要&gt;4.4.0。</p>
<p>然后需要安装对应版本的Kernel Header：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install linux-headers-$(uname -r)</span><br></pre></td></tr></table></figure>
<h3 id="1-4-安装对应的库"><a href="#1-4-安装对应的库" class="headerlink" title="1.4 安装对应的库"></a>1.4 安装对应的库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev \ </span><br><span class="line">libboost-all-dev libhdf5-serial-dev libgflags-dev libgoogle-glog-dev liblmdb-dev \ </span><br><span class="line">protobuf-compiler g++ freeglut3-dev build-essential libx11-dev libxmu-dev libxi-dev \ </span><br><span class="line">libgl1-mesa-glx libglu1-mesa libglu1-mesa-dev</span><br></pre></td></tr></table></figure>
<h2 id="2-安装CUDA"><a href="#2-安装CUDA" class="headerlink" title="2 安装CUDA"></a>2 安装CUDA</h2><h3 id="2-1-首先安装显卡驱动（选做，CUDA自带的驱动可能会无法正常运行）"><a href="#2-1-首先安装显卡驱动（选做，CUDA自带的驱动可能会无法正常运行）" class="headerlink" title="2.1 首先安装显卡驱动（选做，CUDA自带的驱动可能会无法正常运行）"></a>2.1 首先安装显卡驱动（选做，CUDA自带的驱动可能会无法正常运行）</h3><h4 id="1-禁用Nouveau"><a href="#1-禁用Nouveau" class="headerlink" title="(1) 禁用Nouveau"></a>(1) 禁用Nouveau</h4><p>运行命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep nouveau</span><br></pre></td></tr></table></figure>
<p>如果有显示内容，则说明Nouveau驱动正在运行，需要根据<a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/#runfile-nouveau-ubuntu" target="_blank" rel="noopener">教程</a>关闭Nouveau。</p>
<h4 id="2-卸载之前的显卡驱动"><a href="#2-卸载之前的显卡驱动" class="headerlink" title="(2) 卸载之前的显卡驱动"></a>(2) 卸载之前的显卡驱动</h4><h4 id="3-下载并安装驱动"><a href="#3-下载并安装驱动" class="headerlink" title="(3) 下载并安装驱动"></a>(3) 下载并安装驱动</h4><p>在<a href="http://www.nvidia.com/Download/index.aspx" target="_blank" rel="noopener">NVIDIA驱动下载</a>页面按照自己的GPU型号、系统以及CUDA版本选择驱动并进行下载，得到诸如nvidia-diag-driver-local-repo-ubuntu1604_3XY.AB-1_amd64.deb的文件（XY.AB需要根据下载版本进行修改）。</p>
<p>然后运行以下命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i nvidia-diag-driver-local-repo-ubuntu1604_3XY.AB-1_amd64.deb（XY.AB需要根据下载版本进行修改）</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install cuda-drivers</span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure>
<p>运行后系统会进行重启，在运行命令前请保存所有正在运行的工作。</p>
<p>重启后运行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nvidia-smi</span><br></pre></td></tr></table></figure>
<p>如果正常输出显卡状态说民驱动安装成功。</p>
<h3 id="2-2-安装CUDA"><a href="#2-2-安装CUDA" class="headerlink" title="2.2 安装CUDA"></a>2.2 安装CUDA</h3><p>在<a href="https://developer.nvidia.com/cuda-downloads" target="_blank" rel="noopener">CUDA下载页面</a>下载Runfile形式的CUDA安装包，形式为cuda_9.0.176_384.81_linux.run。</p>
<p>具体CUDA和cuDNN版本参考<a href="https://www.tensorflow.org/install/install_linux?hl=zh-cn" target="_blank" rel="noopener">TensorFlow安装要求</a>，对于r1.10版本来说支持的CUDA版本为9.0。</p>
<hr>
<p>(Optional)</p>
<p>对于有GUI的系统来说，需要在启动时按下<code>Ctrl + Alt + F1/F4</code>进入tty1/tty4模式，然后运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service lightdm stop</span><br></pre></td></tr></table></figure>
<p>停止GUI运行。</p>
<hr>
<p>开始安装CUDA。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sh cuda_9.0.176_384.81_linux.run</span><br></pre></td></tr></table></figure>
<ul>
<li>一路按空格，输入<code>accept</code>同意用户协议</li>
<li>安装程序询问是否安装驱动，输入<code>no</code></li>
<li>询问是否安装CUDA Toolkit，输入<code>yes</code></li>
<li>更改CUDA Toolkit安装位置，这里不作修改</li>
<li>是否创建/usr/local/cuda符号链接，如果只安装一个CUDA版本，输入<code>yes</code></li>
<li>询问是否安装CUDA Samples，输入<code>yes</code></li>
<li>更改CUDA Samples安装位置，这里不作修改</li>
</ul>
<p>如果没有报错，则说明安装成功。如果提示：</p>
<blockquote>
<p>Installing the CUDA Toolkit in /usr/local/cuda-8.0 … </p>
<p>Missing recommended library: libGLU.so </p>
<p>Missing recommended library: libX11.so </p>
<p>Missing recommended library: libXi.so </p>
<p>Missing recommended library: libXmu.so</p>
</blockquote>
<p>则需要安装依赖库：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install freeglut3-dev build-essential libx11-dev libxmu-dev libxi-dev libgl1-mesa-glx libglu1-mesa libglu1-mesa-dev</span><br></pre></td></tr></table></figure>
<p>然后重新运行CUDA安装程序即可。</p>
<h3 id="2-3-配置环境变量"><a href="#2-3-配置环境变量" class="headerlink" title="2.3 配置环境变量"></a>2.3 配置环境变量</h3><p>运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/profile</span><br></pre></td></tr></table></figure>
<p>用vi编辑启动脚本。用方向键将光标定位至文件末尾然后按<code>i</code>插入以下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/cuda-9.0/bin</span><br><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-9.0/lib64:/usr/local/cuda-9.0/extras/CUPTI/lib64</span><br></pre></td></tr></table></figure>
<p>在Shell中运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/cuda-9.0/bin</span><br><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-9.0/lib64:/usr/local/cuda-9.0/extras/CUPTI/lib64</span><br></pre></td></tr></table></figure>
<h3 id="2-4-验证CUDA是否安装成功"><a href="#2-4-验证CUDA是否安装成功" class="headerlink" title="2.4 验证CUDA是否安装成功"></a>2.4 验证CUDA是否安装成功</h3><h4 id="1-验证驱动版本"><a href="#1-验证驱动版本" class="headerlink" title="(1) 验证驱动版本"></a>(1) 验证驱动版本</h4><p>运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/driver/nvidia/version</span><br></pre></td></tr></table></figure>
<p>查看驱动版本。</p>
<h4 id="2-查看nvcc版本"><a href="#2-查看nvcc版本" class="headerlink" title="(2) 查看nvcc版本"></a>(2) 查看nvcc版本</h4><p>运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc -V i</span><br></pre></td></tr></table></figure>
<p>查看nvcc版本。</p>
<h4 id="3-运行示例（选做）"><a href="#3-运行示例（选做）" class="headerlink" title="(3) 运行示例（选做）"></a>(3) 运行示例（选做）</h4><p>按照<a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/#compiling-examples" target="_blank" rel="noopener">教程</a>运行示例。</p>
<h2 id="3-安装cuDNN"><a href="#3-安装cuDNN" class="headerlink" title="3 安装cuDNN"></a>3 安装cuDNN</h2><p>在<a href="http://developer.nvidia.com/cudnn" target="_blank" rel="noopener">cuDNN下载页面</a>下载TensorFlow支持的cuDNN版本，目前支持的是cuDNN v7。在下载时需要注册NVIDIA账号和开发者账号。</p>
<p>下载后得到一个诸如cudnn-9.0-linux-x64-v7.tgz的压缩包。</p>
<p>运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvzf cudnn-9.0-linux-x64-v7.tgz</span><br></pre></td></tr></table></figure>
<p>进行解压，在当前目录得到cuda文件夹。</p>
<p>然后运行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo cp cuda/include/cudnn.h /usr/local/cuda/include</span><br><span class="line">sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64</span><br><span class="line">sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*</span><br></pre></td></tr></table></figure>
<p>将cuDNN拷贝至CUDA目录中。</p>
<p>可以按照<a href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/#verify" target="_blank" rel="noopener">官方教程</a>来验证cuDNN的安装。</p>
<h2 id="4-安装Tensorflow"><a href="#4-安装Tensorflow" class="headerlink" title="4 安装Tensorflow"></a>4 安装Tensorflow</h2><p>如果没安装pip，则需要安装pip：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3-pip python3-dev</span><br></pre></td></tr></table></figure>
<p>然后尝试从官方源下载安装TensorFlow：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install tensorflow-gpu</span><br></pre></td></tr></table></figure>
<p>如果安装缓慢或者网络错误，请尝试切换至清华大学提供的镜像源：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install tensorflow-gpu -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>
<p>接下来验证安装，在Shell或者IDE中运行代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python Code</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line">hello = tf.constant(<span class="string">'Hello, TensorFlow!'</span>)</span><br><span class="line">sess = tf.Session()</span><br><span class="line">print(sess.run(hello))</span><br></pre></td></tr></table></figure>
<p>等待，如果能够正常输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello, TensorFlow!</span><br></pre></td></tr></table></figure>
<p>说明安装成功。如果输出错误信息，可以参考<a href="https://www.tensorflow.org/install/install_linux?hl=zh-cn#common_installation_problems" target="_blank" rel="noopener">官方文档</a>解决。</p>
<hr>
<h2 id="5-安装PyTorch"><a href="#5-安装PyTorch" class="headerlink" title="5 安装PyTorch"></a>5 安装PyTorch</h2><p>运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install pytorch torchvision -c pytorch</span><br></pre></td></tr></table></figure>
<p>安装完成后，在Shell或者IDE里运行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python Code</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">print(<span class="string">'CUDA support for Pytorch: '</span>, torch.cuda.is_available())</span><br><span class="line">print(<span class="string">'You are using device: '</span>, torch.cuda.get_device_name(<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<hr>
<p>如果看到<code>True</code>和显卡名称，说明安装成功。</p>
<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><p><a href="https://blog.csdn.net/wuguangbin1230/article/details/74161127" target="_blank" rel="noopener">ubuntu16.04安装nvidia driver + cuda + cudnn (1)</a></p>
<p><a href="https://www.tensorflow.org/install/install_linux?hl=zh-cn" target="_blank" rel="noopener">TensorFlow官方文档</a></p>
<p><a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/#abstract" target="_blank" rel="noopener">CUDA安装文档（英文）</a></p>
<p><a href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/" target="_blank" rel="noopener">cuDNN安装文档（英文）</a></p>
<p><a href="https://blog.csdn.net/masa_fish/article/details/51882183" target="_blank" rel="noopener">Ubuntu 14.04 上安装 CUDA 7.5/8.0 超详细教程</a></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.cyprestar.com/2018/08/15/Install-CUDA-on-Ubuntu-Server/" data-id="cjqz53q8z000aukfn6xjlwonj" class="article-share-link"><i class="fas fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.cyprestar.com/2018/08/15/Install-CUDA-on-Ubuntu-Server/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.cyprestar.com/2018/08/15/Install-CUDA-on-Ubuntu-Server/">评论</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
    
        <a href="/2018/02/26/Write-Markdown-with-Formulas/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">用Markdown写公式</div>
        </a>
    
</nav>


    
</article>


    
    
        <section id="comments">
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>
    

</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Basic/">Basic</a></p>
                            <p class="item-title"><a href="/2018/08/15/Install-CUDA-on-Ubuntu-Server/" class="title">在Ubuntu Server上配置CUDA环境</a></p>
                            <p class="item-date"><time datetime="2018-08-15T03:00:09.000Z" itemprop="datePublished">2018-08-15</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Basic/">Basic</a></p>
                            <p class="item-title"><a href="/2018/02/26/Write-Markdown-with-Formulas/" class="title">用Markdown写公式</a></p>
                            <p class="item-date"><time datetime="2018-02-26T09:55:09.000Z" itemprop="datePublished">2018-02-26</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Basic/">Basic</a></p>
                            <p class="item-title"><a href="/2016/11/01/How-to-Write-Markdown/" class="title">如何快速掌握Markdown语法？</a></p>
                            <p class="item-date"><time datetime="2016-11-01T03:25:25.000Z" itemprop="datePublished">2016-11-01</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/DanmakuPie/">DanmakuPie</a></p>
                            <p class="item-title"><a href="/2016/08/29/BackgroundWorker/" class="title">浅谈BackgroundWorker的使用</a></p>
                            <p class="item-date"><time datetime="2016-08-29T11:06:41.000Z" itemprop="datePublished">2016-08-29</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Creative/">Creative</a></p>
                            <p class="item-title"><a href="/2016/04/30/BoP/" class="title">用编程展现绘画之美</a></p>
                            <p class="item-date"><time datetime="2016-04-30T15:59:41.000Z" itemprop="datePublished">2016-04-30</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Basic/">Basic</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Creative/">Creative</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DanmakuPie/">DanmakuPie</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BoP2016/">BoP2016</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Configuration/">Configuration</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WPF/">WPF</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/BoP2016/" style="font-size: 10px;">BoP2016</a> <a href="/tags/Configuration/" style="font-size: 10px;">Configuration</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Markdown/" style="font-size: 20px;">Markdown</a> <a href="/tags/WPF/" style="font-size: 10px;">WPF</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://github.com/thesharing/">GitHub - Thesharing</a>
                    </li>
                
                    <li>
                        <a href="https://leetcode.com/thesharing/">LeetCode - Thesharing</a>
                    </li>
                
                    <li>
                        <a href="https://www.zhihu.com/people/Thesharing/">知乎 - 柏星</a>
                    </li>
                
                    <li>
                        <a href="http://www.douban.com/people/thesharing/">豆瓣 - cyprestar</a>
                    </li>
                
                    <li>
                        <a href="http://blog.zhengzi.me/">政子的博客</a>
                    </li>
                
                    <li>
                        <a href="http://www.danmakupie.com/">弹幕派</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fas fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2019 Zhilong<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'http://www.cyprestar.com/2018/08/15/Install-CUDA-on-Ubuntu-Server/';
        
        this.page.identifier = 'Install-CUDA-on-Ubuntu-Server';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'thesharing' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>




    
    
    
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>