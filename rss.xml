<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Zhilong&#39;s Blog</title>
  
  <subtitle>Thinking more.</subtitle>
  <link href="/rss.xml" rel="self"/>
  
  <link href="http://www.cyprestar.com/"/>
  <updated>2019-02-13T13:21:41.007Z</updated>
  <id>http://www.cyprestar.com/</id>
  
  <author>
    <name>Zhilong</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>在Electron上实现始终置顶且可调整大小的二维码窗口</title>
    <link href="http://www.cyprestar.com/2019/02/06/An-always-on-top-window-based-on-electron/"/>
    <id>http://www.cyprestar.com/2019/02/06/An-always-on-top-window-based-on-electron/</id>
    <published>2019-02-06T07:35:42.000Z</published>
    <updated>2019-02-13T13:21:41.007Z</updated>
    
    <content type="html"><![CDATA[<p><a href="www.danmakupie.com">弹幕派</a>正在筹划使用Electron+Vue.js+Element来重构之前的桌面客户端，在重构过程中需要基于Electron的特性对之前的功能进行调整。其中要实现在弹幕窗口上显示一个始终置顶且可以手动调整大小以及移动位置，在实现过程中遇到一些问题并加以解决，在此进行分享。</p><a id="more"></a><h1 id="在Electron上实现始终置顶且可调整大小的二维码窗口"><a href="#在Electron上实现始终置顶且可调整大小的二维码窗口" class="headerlink" title="在Electron上实现始终置顶且可调整大小的二维码窗口"></a>在Electron上实现始终置顶且可调整大小的二维码窗口</h1><h3 id="怎样展现二维码"><a href="#怎样展现二维码" class="headerlink" title="怎样展现二维码"></a>怎样展现二维码</h3><p>第一个问题，是怎样展现二维码。由于二维码叠加在弹幕窗口之上，因此有两种可选方案：一是在原有的弹幕窗口上添加一个Vue组件，将二维码展现上去即可；二是新建一个窗口，单独用于显示二维码。</p><p>第一种方案需要手动实现二维码的位置移动和大小调整，但是由于是随着弹幕窗口一起显示，开启和关闭状态的管理较为简单，同时由于在同一窗口内，二维码地址等参数传递方便；第二种方案需要新开一个窗口，因此需要手动管理窗口的状态，且参数传递需要通过主进程进行传递，实现复杂度有所提升，好处在于位置移动和大小调整使用原生实现即可。首先基于第一种方式进行了实现。</p><h3 id="与弹幕在同一窗口显示"><a href="#与弹幕在同一窗口显示" class="headerlink" title="与弹幕在同一窗口显示"></a>与弹幕在同一窗口显示</h3><p>二维码组件的实现整体较为简单，显示一张二维码图片即可。由于需要手动实现窗口的调整大小和关闭，因此添加两个按钮，分别对应关闭和调整大小，代码如下所示：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;QRCode&quot; :style=&quot;location&quot;&gt;</span><br><span class="line">    &lt;el-button circle class=&quot;close&quot;&gt;</span><br><span class="line">      &lt;font-awesome-icon icon=&quot;times&quot;/&gt;</span><br><span class="line">    &lt;/el-button&gt;</span><br><span class="line">    &lt;el-button circle class=&quot;resize&quot;&gt;</span><br><span class="line">      &lt;font-awesome-icon icon=&quot;expand-arrows-alt&quot;/&gt;</span><br><span class="line">    &lt;/el-button&gt;</span><br><span class="line">    &lt;img :src=&quot;src&quot; alt=&quot;QRCode&quot; class=&quot;QRCode&quot; :height=&quot;size&quot; :width=&quot;size&quot;&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import &#123;remote&#125; from &apos;electron&apos;</span><br><span class="line"></span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;QRCode&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        size: Math.floor(document.body.clientHeight / 2),</span><br><span class="line">        location: &#123;</span><br><span class="line">          top: `$&#123;Math.floor(document.body.clientHeight / 4)&#125;px`,</span><br><span class="line">          left: `$&#123;Math.floor(document.body.clientWidth / 2 - document.body.clientHeight / 4)&#125;px`</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      display: &#123;</span><br><span class="line">        type: Boolean</span><br><span class="line">      &#125;,</span><br><span class="line">      src: &#123;</span><br><span class="line">        type: String</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>值得注意的是初始显示位置和大小需要手动计算。</p><h4 id="调整z-index"><a href="#调整z-index" class="headerlink" title="调整z-index"></a>调整z-index</h4><p>接下来调整CSS样式。原本弹幕窗口的属性已经是始终置顶，下一步所需要做的是保证二维码在弹幕上方显示即可，通过设置<code>z-index</code>大于弹幕层的<code>z-index</code>即可，并设置<code>position</code>属性保证<code>z-index</code>生效。紧接着调整两个按钮的样式，设置<code>position: absolute</code>同时设置<code>top</code>和<code>right</code>值使其固定位置，在组件大小调整时仍然保持在窗口右上角/右下角即可。为了避免窗口过小时按钮遮挡住二维码，设置二维码的<code>padding</code>为<code>1.5em</code>并设置两个按钮的<code>height</code>和<code>width</code>为<code>3em</code>，这样可以跟随组件大小进行变化。最终CSS样式为：</p><figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">div</span> &#123;</span><br><span class="line">    <span class="hljs-attribute">display</span>: inline-block;</span><br><span class="line">    <span class="hljs-attribute">position</span>: absolute;</span><br><span class="line">    <span class="hljs-attribute">padding</span>: <span class="hljs-number">1.5em</span>;</span><br><span class="line">    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">4</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-selector-class">.close</span> &#123;</span><br><span class="line">    <span class="hljs-attribute">position</span>: absolute;</span><br><span class="line">    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">3em</span>;</span><br><span class="line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">3em</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-selector-class">.resize</span> &#123;</span><br><span class="line">    <span class="hljs-attribute">position</span>: absolute;</span><br><span class="line">    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">3em</span>;</span><br><span class="line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">3em</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="全屏透明窗口的部分穿透"><a href="#全屏透明窗口的部分穿透" class="headerlink" title="全屏透明窗口的部分穿透"></a>全屏透明窗口的部分穿透</h4><p>完成以后运行可以看到二维码效果。接下来需要实现二维码的调整大小和关闭。然而这时会发现一个问题，和WPF不同的是，Electron不支持透明窗口的部分穿透。什么意思呢？由于我们的弹幕是全屏播放，因此为了保证不影响正常操作，需要在初始化窗口时设置<code>window.setIgnoreMouseEvents(true)</code>使得鼠标点击穿透到其他程序中。但是这样就导致没有办法通过点击按钮来调整二维码大小，也没有办法通过拖放来调整二维码显示的位置。而设置<code>window.setIgnoreMouseEvents(false)</code>又会导致其他窗口无法响应鼠标操作。在electron的官方GitHub Issue <a href="https://github.com/electron/electron/issues/1335" target="_blank" rel="noopener">Support click-through of transparency #1335</a> 有许多人遇到了同样的问题。简而言之，早期人们通过主进程捕捉当前鼠标位置像素点来决定是否发送事件给Renderer，非常复杂；在Electron 3.0.0版本后加入了<code>setWindowShape</code>API，如果是开发小部件（Gadget）的话使用这一API是非常得当的，直接将窗口大小设置为小部件的大小即可；但是由于弹幕需要全屏显示，因此需要其他方式来解决这一问题。</p><p>在Issue的最后有人提出一种解决方案，目前<a href="https://electronjs.org/docs/api/frameless-window#forwarding" target="_blank" rel="noopener">官方文档</a>也已经写明：通过在元素上添加<code>mouseenter</code>和<code>mouseleave</code>事件，在鼠标进入二维码时设置<code>window.setIgnoreMouseEvents(false)</code>，捕捉鼠标事件；在鼠标离开元素时设置<code>window.setIgnoreMouseEvents(true)</code>释放鼠标事件，在本例中由于只有二维码一个元素需要处理鼠标事件，因此不会显得过于冗杂。完整实现为：</p><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> win = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>).remote.getCurrentWindow()</span><br><span class="line"><span class="hljs-keyword">let</span> el = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'QRCode'</span>)</span><br><span class="line">el.addEventListener(<span class="hljs-string">'mouseenter'</span>, () =&gt; &#123;</span><br><span class="line">  win.setIgnoreMouseEvents(<span class="hljs-literal">false</span>)</span><br><span class="line">&#125;)</span><br><span class="line">el.addEventListener(<span class="hljs-string">'mouseleave'</span>, () =&gt; &#123;</span><br><span class="line">  win.setIgnoreMouseEvents(<span class="hljs-literal">true</span>, &#123; <span class="hljs-attr">forward</span>: <span class="hljs-literal">true</span> &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>经过实现以后发现一个问题：</p><p>由于弹幕是Canvas动画，在鼠标移入/移出二维码时会导致明显的动画卡顿，在低性能设备上表现尤为明显，因此决定将这一方案弃置，转为用新窗口打开。</p><h3 id="新窗口打开"><a href="#新窗口打开" class="headerlink" title="新窗口打开"></a>新窗口打开</h3><p>新窗口打开在实现上会比前一方案简单一点（并不），Vue组件基本和之前一样，不过由于调整二维码大小用的是原生的调整窗口大小，因此去掉resize按钮，同时把<code>location</code>、<code>width</code>和<code>height</code>等属性去掉即可。</p><p>接下来需要在主进程中实现二维码窗口，在主进程中创建createQRCodeWindow方法，通过传入<code>screen.getAllDisplays()</code>方法返回的<code>screen</code>对象获得窗口大小和位置进而调整每一个二维码窗口的显示；然后设置窗口属性（<code>setAlwaysOnTop</code>、<code>loadURL</code>等等）即可。值得注意的是需要在Vue Router里面配置QRCode.vue的路由。紧接着ipcMain中注册两个事件，一个是创建，另一个是关闭，传入参数为screen列表，根据列表在不同屏幕创建窗口即可。在渲染进程中通过按钮/开关等方式注册事件通过ipcRenderer触发事件并将当前已开启弹幕的屏幕的<code>screen</code>对象作为参数传入即可。</p><p>值得注意的是，为了避免窗口出错关闭后不断调用空引用提示错误，可以用<code>try...catch...</code>进行处理：</p><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">arg.forEach(<span class="hljs-function">(<span class="hljs-params">idx</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (QRCodeWindows[idx]) &#123;</span><br><span class="line">      <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">        QRCodeWindows[idx].close()</span><br><span class="line">        QRCodeWindows[idx] = <span class="hljs-literal">null</span></span><br><span class="line">      &#125; <span class="hljs-keyword">catch</span> (e) &#123;</span><br><span class="line">        danmakuWindows[idx] = <span class="hljs-literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h4 id="如何传递参数"><a href="#如何传递参数" class="headerlink" title="如何传递参数"></a>如何传递参数</h4><p>打开窗口后我们要考虑两件事：一是如何使Vue页面知道自己所属的窗口，进而在调用ipcMain的关闭事件时指定自己所属的窗口；二是如何将二维码图片的地址从主进程传递到渲染进程中。一种方案是通过Vue Router的路由参数传递，另一种是通过ipcRenderer传递。前一种方案实现简单，但是将地址作为参数写入路由中总觉得会使地址过于丑陋，因此尝试第二种方案。</p><p>第二种方案在创建完窗口的同时通过调用<code>window.webContents.send(channel, arguments)</code>将参数传递过去，然后在Vue页面<code>created</code>环节通过注册<code>ipcRender</code>事件接收参数。但是实现后发现，参数并没有按照预期传递过去。这是由于我们在创建窗口并<code>LoadURL</code>后Vue生命周期还没有执行到<code>created</code>环节事件已经发出，渲染进程也就无法接收到参数。</p><p><img src="https://cn.vuejs.org/images/lifecycle.png" alt="Vue的生命周期"></p><p>那么为了保证事件可以被接收到，我们可以将发送参数作为一个事件放到ipcMain注册的事件中，等待渲染进程中Vue初始化完成了再进行调用，这样就确保渲染进程可以接收到参数。实现细节为：</p><p>主进程：</p><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ipcMain.on(<span class="hljs-string">'initQRCode'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> k <span class="hljs-keyword">in</span> QRCodeWindows) &#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (QRCodeWindows.hasOwnProperty(k) &amp;&amp; QRCodeWindows[k]) &#123;</span><br><span class="line">      <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">        QRCodeWindows[k].webContents.send(<span class="hljs-string">'initQRCode'</span>, &#123;</span><br><span class="line">          idx: k,</span><br><span class="line">          src: <span class="hljs-string">'http://static.danmakupie.com/qrcodes/VqUkcCq4Oj2ZmLDiROw3GA.png'</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; <span class="hljs-keyword">catch</span> (e) &#123;</span><br><span class="line">        QRCodeWindows[k] = <span class="hljs-literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>渲染进程：</p><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">created() &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.loading = <span class="hljs-literal">true</span></span><br><span class="line">    ipcRenderer.once(<span class="hljs-string">'initQRCode'</span>, (event, arg) =&gt; &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.idx = arg.idx</span><br><span class="line">        <span class="hljs-keyword">this</span>.src = arg.src</span><br><span class="line">    &#125;)</span><br><span class="line">    ipcRenderer.send(<span class="hljs-string">'initQRCode'</span>, &#123;&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>也就是说，等到Vue页面加载至<code>created</code>环节，注册事件监听后，再去触发主进程事件使其发送参数即可。但是这样有个问题是，渲染进程仍然不知道自己所在的窗口，因此主进程需要遍历所有的窗口逐一发送参数：如果窗口已经打开，那么窗口将接收参数；窗口没有打开则没有影响。这样会导致一个新问题：所有窗口初始化页面时都会触发主进程的事件，导致之前已经初始化过的窗口会不断响应并更新参数，这当然不是我们想要的，因此在渲染进程注册事件时使用<code>once</code>而非<code>on</code>方法，当触发时即注销事件，这样可以避免多次更新。</p><h3 id="细节优化"><a href="#细节优化" class="headerlink" title="细节优化"></a>细节优化</h3><h4 id="Loading界面"><a href="#Loading界面" class="headerlink" title="Loading界面"></a>Loading界面</h4><p>由于二维码是从远端服务器获取图片，可能会出现图片加载时间过长，为了优化用户体验，可以加一个Loading界面。Element中提供了<a href="http://element-cn.eleme.io/#/zh-CN/component/loading" target="_blank" rel="noopener">Loading</a>界面，直接在div元素添加<code>v-loading</code>然后绑定一个Boolean变量即可。当开始载入页面时将loading变量设置为<code>true</code>，然后在图片加载完成时将loading变量设置为<code>false</code>即可。Vue中提供了图片加载完成事件<code>v-on:load</code>（简写为<code>@load</code>），直接绑定函数即可。</p><h4 id="居中显示"><a href="#居中显示" class="headerlink" title="居中显示"></a>居中显示</h4><p>接下来要保证二维码图片始终居中显示。横向居中直接让div的属性设置为：</p><figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-class">.container</span> &#123;</span><br><span class="line">    <span class="hljs-attribute">text-align</span>: center;</span><br><span class="line">    <span class="hljs-attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>即可。纵向居中稍微麻烦一点，具体可参考：</p><p><a href="https://juejin.im/post/5a7a9a545188257a892998ef" target="_blank" rel="noopener">CSS设置居中的方案总结-超全</a> 和 <a href="https://blog.csdn.net/freshlover/article/details/11579669" target="_blank" rel="noopener">盘点8种CSS实现垂直居中水平居中的绝对定位居中技术</a></p><p>由于是在Electron中实现，不需要考虑兼容性问题，因此这里使用兼容性比较差但是实现较为简单的<code>flex</code>，即添加一个父div，然后设置父div属性为：</p><figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-id">#QRCodeParentContainer</span> &#123;</span><br><span class="line">  <span class="hljs-attribute">display</span>: flex;</span><br><span class="line">  <span class="hljs-attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样就能保证垂直居中和水平居中同时实现了。</p><h4 id="等比例缩放"><a href="#等比例缩放" class="headerlink" title="等比例缩放"></a>等比例缩放</h4><p>但实际上这时会遇到一个问题，就是二维码并不是和窗口大小等比例缩放，且窗口没有办法等比例缩放。由官方<a href="https://github.com/electron/electron/issues/8036" target="_blank" rel="noopener">Issue#8036</a>可知目前Electron提供的API<code>window.setAspectRatio(aspectRatio, extraSize: {width: float, height: float})</code>只适用于macOS而非Windows，而Issue中提供的解决方案都不能很好地解决这一问题，因此接下来着重于保证二维码能够和窗口等比例缩放且按照最短边来显示，保证显示完整，不会出现滚动条。</p><p>首先设置图片的CSS样式为：</p><figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-class">.QRCode</span> &#123;</span><br><span class="line">    <span class="hljs-attribute">display</span>: block;</span><br><span class="line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span><br><span class="line">    <span class="hljs-attribute">widht</span>: <span class="hljs-number">100%</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后设置包含图片的子div的样式为：</p><figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-id">#QRCodeChildContainer</span> &#123;</span><br><span class="line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">100vmin</span>;</span><br><span class="line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">100vmin</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中<code>vmin</code>是指视口高度和宽度之间的最小值的 1/100。视口高度是指浏览器当前文档可见部分的高度，视口宽度同理。CSS引入了<code>vh</code>表示视口高度的 1/100，<code>vw</code>表示视口宽度的 1/100，<code>vmin</code>表示视口高度和宽度之间的最小值的 1/100，<code>vmax</code>表示视口高度和宽度之间的最大值的 1/100。在这里我们用<code>100vmin</code>就可以保证图片的大小始终是最短边来显示，不会出现滚动条。接着设置包含子div的父div格式为：</p><figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-id">#QRCodeParentContainer</span> &#123;</span><br><span class="line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;</span><br><span class="line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样就可以保证二维码能够跟随窗口进行大小变化。</p><p>参考：</p><p><a href="https://segmentfault.com/a/1190000006631310" target="_blank" rel="noopener">纯css实现容器高度随宽度等比例变化的四种解决方案</a></p><p><a href="https://juejin.im/entry/59b00e46f265da2491513bcc" target="_blank" rel="noopener">vh,vw单位你知道多少？</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/length" target="_blank" rel="noopener"><length> - MDN 文档</length></a></p><h4 id="拖拽"><a href="#拖拽" class="headerlink" title="拖拽"></a>拖拽</h4><p>拖拽移动的实现非常简单，在div上添加属性<code>-webkit-app-region: drag</code>即可。为了防止拖拽override掉按钮点击事件，需要在按钮上添加属性<code>-webkit-app-region: no-drag</code>：</p><figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-id">#QRCodeChildContainer</span> &#123;</span><br><span class="line">    <span class="hljs-attribute">-webkit-app-region</span>: drag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-selector-class">.close</span> &#123;</span><br><span class="line">    <span class="hljs-attribute">-webkit-app-region</span>: no-drag</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>看似简单的二维码窗口却花了很长时间去调整和实现，本次实现主要涉及到以下一些知识点：</p><ul><li>设置<code>position</code>使得<code>z-index</code>生效</li><li>Electron中透明窗口的部分穿透</li><li>Electron中如何用ipc从主进程向渲染进程传递初始化参数</li><li>Element中的Loading控制</li><li>CSS中元素的居中显示</li><li>CSS中元素等比例缩放</li><li>CSS实现Electron窗口拖拽</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;www.danmakupie.com&quot;&gt;弹幕派&lt;/a&gt;正在筹划使用Electron+Vue.js+Element来重构之前的桌面客户端，在重构过程中需要基于Electron的特性对之前的功能进行调整。其中要实现在弹幕窗口上显示一个始终置顶且可以手动调整大小以及移动位置，在实现过程中遇到一些问题并加以解决，在此进行分享。&lt;/p&gt;
    
    </summary>
    
      <category term="DanmakuPie" scheme="http://www.cyprestar.com/categories/DanmakuPie/"/>
    
    
      <category term="Electron" scheme="http://www.cyprestar.com/tags/Electron/"/>
    
  </entry>
  
  <entry>
    <title>在Ubuntu Server上配置CUDA环境</title>
    <link href="http://www.cyprestar.com/2018/08/15/Install-CUDA-on-Ubuntu-Server/"/>
    <id>http://www.cyprestar.com/2018/08/15/Install-CUDA-on-Ubuntu-Server/</id>
    <published>2018-08-15T03:00:09.000Z</published>
    <updated>2018-08-15T14:23:59.680Z</updated>
    
    <content type="html"><![CDATA[<p>在配置Ubuntu Server的CUDA和TensorFlow的过程中，遇到了很多问题（驱动无法正常运行、CUDA无法正常配置等等），在网上找了很多资料，最终正确安装驱动、CUDA、cuDNN和TensorFlow（GPU版本），因此将安装过程记录下来，方便以后再配环境。</p><a id="more"></a><p>版本要求：</p><ul><li>Ubuntu 16.04 LTS</li><li>CUDA 9.0</li><li>cuDNN v7</li><li>Python 3.6</li><li>TensorFlow r1.10</li><li>PyTorch 0.4.1</li></ul><h2 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1 准备工作"></a>1 准备工作</h2><h3 id="1-1-检查GPU是否符合CUDA运行要求"><a href="#1-1-检查GPU是否符合CUDA运行要求" class="headerlink" title="1.1 检查GPU是否符合CUDA运行要求"></a>1.1 检查GPU是否符合CUDA运行要求</h3><p>在Shell中运行命令：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lspci | grep -i nvidia</span><br></pre></td></tr></table></figure><p>查看GPU型号，然后在<a href="https://developer.nvidia.com/cuda-gpus" target="_blank" rel="noopener">https://developer.nvidia.com/cuda-gpus</a>页面中查找设备的GPU是否在支持CUDA的列表中。</p><h3 id="1-2-检查GCC版本"><a href="#1-2-检查GCC版本" class="headerlink" title="1.2 检查GCC版本"></a>1.2 检查GCC版本</h3><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc --version</span><br></pre></td></tr></table></figure><p>对于Ubuntu 16.04来说，gcc版本需要&gt;5.4.0。</p><h3 id="1-3-检查Kernel版本"><a href="#1-3-检查Kernel版本" class="headerlink" title="1.3 检查Kernel版本"></a>1.3 检查Kernel版本</h3><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -r</span><br></pre></td></tr></table></figure><p>对于Ubuntu 16.04来说，内核版本需要&gt;4.4.0。</p><p>然后需要安装对应版本的Kernel Header：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install linux-headers-$(uname -r)</span><br></pre></td></tr></table></figure><h3 id="1-4-安装对应的库"><a href="#1-4-安装对应的库" class="headerlink" title="1.4 安装对应的库"></a>1.4 安装对应的库</h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev \ </span><br><span class="line">libboost-all-dev libhdf5-serial-dev libgflags-dev libgoogle-glog-dev liblmdb-dev \ </span><br><span class="line">protobuf-compiler g++ freeglut3-dev build-essential libx11-dev libxmu-dev libxi-dev \ </span><br><span class="line">libgl1-mesa-glx libglu1-mesa libglu1-mesa-dev</span><br></pre></td></tr></table></figure><h2 id="2-安装CUDA"><a href="#2-安装CUDA" class="headerlink" title="2 安装CUDA"></a>2 安装CUDA</h2><h3 id="2-1-首先安装显卡驱动（选做，CUDA自带的驱动可能会无法正常运行）"><a href="#2-1-首先安装显卡驱动（选做，CUDA自带的驱动可能会无法正常运行）" class="headerlink" title="2.1 首先安装显卡驱动（选做，CUDA自带的驱动可能会无法正常运行）"></a>2.1 首先安装显卡驱动（选做，CUDA自带的驱动可能会无法正常运行）</h3><h4 id="1-禁用Nouveau"><a href="#1-禁用Nouveau" class="headerlink" title="(1) 禁用Nouveau"></a>(1) 禁用Nouveau</h4><p>运行命令：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep nouveau</span><br></pre></td></tr></table></figure><p>如果有显示内容，则说明Nouveau驱动正在运行，需要根据<a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/#runfile-nouveau-ubuntu" target="_blank" rel="noopener">教程</a>关闭Nouveau。</p><h4 id="2-卸载之前的显卡驱动"><a href="#2-卸载之前的显卡驱动" class="headerlink" title="(2) 卸载之前的显卡驱动"></a>(2) 卸载之前的显卡驱动</h4><h4 id="3-下载并安装驱动"><a href="#3-下载并安装驱动" class="headerlink" title="(3) 下载并安装驱动"></a>(3) 下载并安装驱动</h4><p>在<a href="http://www.nvidia.com/Download/index.aspx" target="_blank" rel="noopener">NVIDIA驱动下载</a>页面按照自己的GPU型号、系统以及CUDA版本选择驱动并进行下载，得到诸如nvidia-diag-driver-local-repo-ubuntu1604_3XY.AB-1_amd64.deb的文件（XY.AB需要根据下载版本进行修改）。</p><p>然后运行以下命令：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i nvidia-diag-driver-local-repo-ubuntu1604_3XY.AB-1_amd64.deb（XY.AB需要根据下载版本进行修改）</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install cuda-drivers</span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure><p>运行后系统会进行重启，在运行命令前请保存所有正在运行的工作。</p><p>重启后运行：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nvidia-smi</span><br></pre></td></tr></table></figure><p>如果正常输出显卡状态说民驱动安装成功。</p><h3 id="2-2-安装CUDA"><a href="#2-2-安装CUDA" class="headerlink" title="2.2 安装CUDA"></a>2.2 安装CUDA</h3><p>在<a href="https://developer.nvidia.com/cuda-downloads" target="_blank" rel="noopener">CUDA下载页面</a>下载Runfile形式的CUDA安装包，形式为cuda_9.0.176_384.81_linux.run。</p><p>具体CUDA和cuDNN版本参考<a href="https://www.tensorflow.org/install/install_linux?hl=zh-cn" target="_blank" rel="noopener">TensorFlow安装要求</a>，对于r1.10版本来说支持的CUDA版本为9.0。</p><hr><p>(Optional)</p><p>对于有GUI的系统来说，需要在启动时按下<code>Ctrl + Alt + F1/F4</code>进入tty1/tty4模式，然后运行：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service lightdm stop</span><br></pre></td></tr></table></figure><p>停止GUI运行。</p><hr><p>开始安装CUDA。</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sh cuda_9.0.176_384.81_linux.run</span><br></pre></td></tr></table></figure><ul><li>一路按空格，输入<code>accept</code>同意用户协议</li><li>安装程序询问是否安装驱动，输入<code>no</code></li><li>询问是否安装CUDA Toolkit，输入<code>yes</code></li><li>更改CUDA Toolkit安装位置，这里不作修改</li><li>是否创建/usr/local/cuda符号链接，如果只安装一个CUDA版本，输入<code>yes</code></li><li>询问是否安装CUDA Samples，输入<code>yes</code></li><li>更改CUDA Samples安装位置，这里不作修改</li></ul><p>如果没有报错，则说明安装成功。如果提示：</p><blockquote><p>Installing the CUDA Toolkit in /usr/local/cuda-8.0 … </p><p>Missing recommended library: libGLU.so </p><p>Missing recommended library: libX11.so </p><p>Missing recommended library: libXi.so </p><p>Missing recommended library: libXmu.so</p></blockquote><p>则需要安装依赖库：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install freeglut3-dev build-essential libx11-dev libxmu-dev libxi-dev libgl1-mesa-glx libglu1-mesa libglu1-mesa-dev</span><br></pre></td></tr></table></figure><p>然后重新运行CUDA安装程序即可。</p><h3 id="2-3-配置环境变量"><a href="#2-3-配置环境变量" class="headerlink" title="2.3 配置环境变量"></a>2.3 配置环境变量</h3><p>运行：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/profile</span><br></pre></td></tr></table></figure><p>用vi编辑启动脚本。用方向键将光标定位至文件末尾然后按<code>i</code>插入以下内容：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/cuda-9.0/bin</span><br><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-9.0/lib64:/usr/local/cuda-9.0/extras/CUPTI/lib64</span><br></pre></td></tr></table></figure><p>在Shell中运行：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/cuda-9.0/bin</span><br><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-9.0/lib64:/usr/local/cuda-9.0/extras/CUPTI/lib64</span><br></pre></td></tr></table></figure><h3 id="2-4-验证CUDA是否安装成功"><a href="#2-4-验证CUDA是否安装成功" class="headerlink" title="2.4 验证CUDA是否安装成功"></a>2.4 验证CUDA是否安装成功</h3><h4 id="1-验证驱动版本"><a href="#1-验证驱动版本" class="headerlink" title="(1) 验证驱动版本"></a>(1) 验证驱动版本</h4><p>运行：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/driver/nvidia/version</span><br></pre></td></tr></table></figure><p>查看驱动版本。</p><h4 id="2-查看nvcc版本"><a href="#2-查看nvcc版本" class="headerlink" title="(2) 查看nvcc版本"></a>(2) 查看nvcc版本</h4><p>运行：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc -V i</span><br></pre></td></tr></table></figure><p>查看nvcc版本。</p><h4 id="3-运行示例（选做）"><a href="#3-运行示例（选做）" class="headerlink" title="(3) 运行示例（选做）"></a>(3) 运行示例（选做）</h4><p>按照<a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/#compiling-examples" target="_blank" rel="noopener">教程</a>运行示例。</p><h2 id="3-安装cuDNN"><a href="#3-安装cuDNN" class="headerlink" title="3 安装cuDNN"></a>3 安装cuDNN</h2><p>在<a href="http://developer.nvidia.com/cudnn" target="_blank" rel="noopener">cuDNN下载页面</a>下载TensorFlow支持的cuDNN版本，目前支持的是cuDNN v7。在下载时需要注册NVIDIA账号和开发者账号。</p><p>下载后得到一个诸如cudnn-9.0-linux-x64-v7.tgz的压缩包。</p><p>运行：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvzf cudnn-9.0-linux-x64-v7.tgz</span><br></pre></td></tr></table></figure><p>进行解压，在当前目录得到cuda文件夹。</p><p>然后运行</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo cp cuda/include/cudnn.h /usr/local/cuda/include</span><br><span class="line">sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64</span><br><span class="line">sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*</span><br></pre></td></tr></table></figure><p>将cuDNN拷贝至CUDA目录中。</p><p>可以按照<a href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/#verify" target="_blank" rel="noopener">官方教程</a>来验证cuDNN的安装。</p><h2 id="4-安装Tensorflow"><a href="#4-安装Tensorflow" class="headerlink" title="4 安装Tensorflow"></a>4 安装Tensorflow</h2><p>如果没安装pip，则需要安装pip：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3-pip python3-dev</span><br></pre></td></tr></table></figure><p>然后尝试从官方源下载安装TensorFlow：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install tensorflow-gpu</span><br></pre></td></tr></table></figure><p>如果安装缓慢或者网络错误，请尝试切换至清华大学提供的镜像源：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install tensorflow-gpu -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><p>接下来验证安装，在Shell或者IDE中运行代码：</p><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Python Code</span></span><br><span class="line"><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf</span><br><span class="line">hello = tf.constant(<span class="hljs-string">'Hello, TensorFlow!'</span>)</span><br><span class="line">sess = tf.Session()</span><br><span class="line">print(sess.run(hello))</span><br></pre></td></tr></table></figure><p>等待，如果能够正常输出</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello, TensorFlow!</span><br></pre></td></tr></table></figure><p>说明安装成功。如果输出错误信息，可以参考<a href="https://www.tensorflow.org/install/install_linux?hl=zh-cn#common_installation_problems" target="_blank" rel="noopener">官方文档</a>解决。</p><hr><h2 id="5-安装PyTorch"><a href="#5-安装PyTorch" class="headerlink" title="5 安装PyTorch"></a>5 安装PyTorch</h2><p>运行：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install pytorch torchvision -c pytorch</span><br></pre></td></tr></table></figure><p>安装完成后，在Shell或者IDE里运行：</p><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Python Code</span></span><br><span class="line"><span class="hljs-keyword">import</span> torch</span><br><span class="line">print(<span class="hljs-string">'CUDA support for Pytorch: '</span>, torch.cuda.is_available())</span><br><span class="line">print(<span class="hljs-string">'You are using device: '</span>, torch.cuda.get_device_name(<span class="hljs-number">0</span>))</span><br></pre></td></tr></table></figure><hr><p>如果看到<code>True</code>和显卡名称，说明安装成功。</p><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><p><a href="https://blog.csdn.net/wuguangbin1230/article/details/74161127" target="_blank" rel="noopener">ubuntu16.04安装nvidia driver + cuda + cudnn (1)</a></p><p><a href="https://www.tensorflow.org/install/install_linux?hl=zh-cn" target="_blank" rel="noopener">TensorFlow官方文档</a></p><p><a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/#abstract" target="_blank" rel="noopener">CUDA安装文档（英文）</a></p><p><a href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/" target="_blank" rel="noopener">cuDNN安装文档（英文）</a></p><p><a href="https://blog.csdn.net/masa_fish/article/details/51882183" target="_blank" rel="noopener">Ubuntu 14.04 上安装 CUDA 7.5/8.0 超详细教程</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在配置Ubuntu Server的CUDA和TensorFlow的过程中，遇到了很多问题（驱动无法正常运行、CUDA无法正常配置等等），在网上找了很多资料，最终正确安装驱动、CUDA、cuDNN和TensorFlow（GPU版本），因此将安装过程记录下来，方便以后再配环境。&lt;/p&gt;
    
    </summary>
    
      <category term="Basic" scheme="http://www.cyprestar.com/categories/Basic/"/>
    
    
      <category term="Configuration" scheme="http://www.cyprestar.com/tags/Configuration/"/>
    
  </entry>
  
  <entry>
    <title>用Markdown写公式</title>
    <link href="http://www.cyprestar.com/2018/02/26/Write-Markdown-with-Formulas/"/>
    <id>http://www.cyprestar.com/2018/02/26/Write-Markdown-with-Formulas/</id>
    <published>2018-02-26T09:55:09.000Z</published>
    <updated>2018-08-15T03:40:04.117Z</updated>
    
    <content type="html"><![CDATA[<p>在写课堂报告的时候，用Latex会比较笨重，用Word插入公式又太麻烦，用Markdown则恰如其分，因此这篇文章主要涉及如何在Markdown中使用Mathjax，参考LaTeX语法来书写公式。公式可以在Typora里导出成PDF文档。</p><a id="more"></a><ul><li><a href="#一、公式使用参考">一、公式使用参考</a><ul><li><a href="#插入公式">插入公式</a></li><li><a href="#上下标">上下标</a></li><li><a href="#括号和分隔符">括号和分隔符</a></li><li><a href="#输入分数">输入分数</a></li><li><a href="#输入开方">输入开方</a></li><li><a href="#省略号">省略号</a></li><li><a href="#输入矢量">输入矢量</a></li><li><a href="#输入积分">输入积分</a></li><li><a href="#极限运算">极限运算</a></li><li><a href="#累加、累乘运算">累加、累乘运算</a></li><li><a href="#希腊字母">希腊字母</a></li><li><a href="#其他特殊字符">其他特殊字符</a></li><li><a href="#字体转换">字体转换</a></li><li><a href="#大括号和行标的使用">大括号和行标的使用</a></li><li><a href="#其他命令">其他命令</a></li></ul></li><li><a href="#二、矩阵使用参考">二、矩阵使用参考</a><ul><li><a href="#无框矩阵">无框矩阵</a></li><li><a href="#边框矩阵">边框矩阵</a></li><li><a href="#带省略符号的矩阵">带省略符号的矩阵</a></li><li><a href="#带分割符号的矩阵">带分割符号的矩阵</a></li><li><a href="#行中矩阵">行中矩阵</a></li></ul></li><li><a href="#三、方程式序列使用参考">三、方程式序列使用参考</a><ul><li><a href="#方程式序列">方程式序列</a></li><li><a href="#在一个方程式序列的每一行中注明原因">在一个方程式序列的每一行中注明原因</a></li></ul></li><li><a href="#四、条件表达式使用参考">四、条件表达式使用参考</a><ul><li><a href="#条件表达式">条件表达式</a></li><li><a href="#左侧对齐的条件表达式">左侧对齐的条件表达式</a></li><li><a href="#使条件表达式适配行高">使条件表达式适配行高</a></li></ul></li><li><a href="#五、数组与表格使用参考">五、数组与表格使用参考</a><ul><li><a href="#数组或表格">数组或表格</a></li><li><a href="#嵌套的数组或表格">嵌套的数组或表格</a></li><li><a href="#方程组">方程组</a></li></ul></li><li><a href="#六、连分数使用参考">六、连分数使用参考</a><ul><li><a href="#连分式">连分式</a></li></ul></li><li><a href="#七、交换图表使用参考">七、交换图表使用参考</a><ul><li><a href="#交换图表">交换图表</a></li></ul></li><li><a href="#八、一些特殊的注意事项">八、一些特殊的注意事项</a></li><li>Reference</li></ul><h2 id="一、公式使用参考"><a href="#一、公式使用参考" class="headerlink" title="一、公式使用参考"></a>一、公式使用参考</h2><h3 id="插入公式"><a href="#插入公式" class="headerlink" title="插入公式"></a>插入公式</h3><p>$\LaTeX{}$的数学公式有两种：行中公式和独立公式。行中公式放在文中与其它文字混编，独立公式单独成行。</p><p>行中公式可以用如下方法表示：</p>  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ 数学公式 $</span><br></pre></td></tr></table></figure><p>独立公式可以用如下方法表示：</p>  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ 数学公式 $$</span><br></pre></td></tr></table></figure><p>自动编号的公式可以用如下方法表示：</p><p>  若需要手动编号，参见 <a href="#14. 大括号和行标的使用">大括号和行标的使用</a>。</p>  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;</span><br><span class="line">数学公式</span><br><span class="line">\label&#123;eq:当前公式名&#125;</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><p><strong>自动编号后的公式可在全文任意处使用<code>\eqref{eq:公式名}</code>语句引用。</strong></p><p><strong>例：</strong></p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ J_\alpha(x) = \sum_&#123;m=0&#125;^\infty \frac&#123;(-1)^m&#125;&#123;m! \Gamma (m + \alpha + 1)&#125; &#123;\left(&#123; \frac&#123;x&#125;&#123;2&#125; &#125;\right)&#125;^&#123;2m + \alpha&#125; \text &#123;，行内公式示例&#125; $</span><br></pre></td></tr></table></figure><p>行内公式：$ J_\alpha(x) = \sum_{m=0}^\infty \frac{(-1)^m}{m! \Gamma (m + \alpha + 1)} {\left({ \frac{x}{2} }\right)}^{2m + \alpha} \text {，行内公式示例} $</p><p><strong>例：</strong></p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ J_\alpha(x) = \sum_&#123;m=0&#125;^\infty \frac&#123;(-1)^m&#125;&#123;m! \Gamma (m + \alpha + 1)&#125; &#123;\left(&#123; \frac&#123;x&#125;&#123;2&#125; &#125;\right)&#125;^&#123;2m + \alpha&#125; \text &#123;，独立公式示例&#125; $$</span><br></pre></td></tr></table></figure><p>$$ J_\alpha(x) = \sum_{m=0}^\infty \frac{(-1)^m}{m! \Gamma (m + \alpha + 1)} {\left({ \frac{x}{2} }\right)}^{2m + \alpha} \text {，独立公式示例} $$</p><p><strong>例：</strong></p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;</span><br><span class="line">E=mc^2 \text&#123;，自动编号公式示例&#125;</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><p>$$<br>\begin{equation}<br>E=mc^2 \text{，自动编号公式示例}<br>\end{equation}<br>$$</p><h3 id="上下标"><a href="#上下标" class="headerlink" title="上下标"></a>上下标</h3><p><code>^</code> 表示上标, <code>_</code> 表示下标。如果上下标的内容多于一个字符，需要用 <code>{}</code> 将这些内容括成一个整体。上下标可以嵌套，也可以同时使用。</p><p><strong>例：</strong></p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ x^&#123;y^z&#125;=(1+&#123;\rm e&#125;^x)^&#123;-2xy^w&#125; $$</span><br></pre></td></tr></table></figure><p>$$ x^{y^z}=(1+{\rm e}^x)^{-2xy^w} $$</p><p>另外，如果要在左右两边都有上下标，可以用 <code>\sideset</code> 命令。</p><p><strong>例：</strong></p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ \sideset&#123;^1_2&#125;&#123;^3_4&#125;\bigotimes $$</span><br></pre></td></tr></table></figure><p>$$ \sideset{^1_2}{^3_4}\bigotimes $$</p><h3 id="括号和分隔符"><a href="#括号和分隔符" class="headerlink" title="括号和分隔符"></a>括号和分隔符</h3><p><code>()</code>、<code>[]</code> 和 <code>|</code> 表示符号本身，使用 <code>\{\}</code> 来表示 <code>{}</code> 。当要显示大号的括号或分隔符时，要用 <code>\left</code> 和 <code>\right</code> 命令。</p><p>一些特殊的括号：</p><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\langle</td><td>$\langle$</td><td>\rangle</td><td>$\rangle$</td></tr><tr><td>\lceil</td><td>$\lceil$</td><td>\rceil</td><td>$\rceil$</td></tr><tr><td>\lfloor</td><td>$\lfloor$</td><td>\rfloor</td><td>$\rfloor$</td></tr><tr><td>\lbrace</td><td>$\lbrace$</td><td>\rbrace</td><td>$\rbrace$</td></tr></tbody></table><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ f(x,y,z) = 3y^2z \left( 3+\frac&#123;7x+5&#125;&#123;1+y^2&#125; \right) $$</span><br></pre></td></tr></table></figure></p><p>$$ f(x,y,z) = 3y^2z \left( 3+\frac{7x+5}{1+y^2} \right) $$</p><p>有时候要用 <code>\left.</code> 或 <code>\right.</code> 进行匹配而不显示本身。</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ \left \frac&#123;&#123;\rm d&#125;u&#125;&#123;&#123;\rm d&#125;x&#125; \right | _&#123;x=0&#125; $$</span><br></pre></td></tr></table></figure></p><h3 id="输入分数"><a href="#输入分数" class="headerlink" title="输入分数"></a>输入分数</h3><p>通常使用 <code>\frac {分子} {分母}</code> 命令产生一个分数，分数可嵌套。<br>便捷情况可直接输入 <code>\frac ab</code> 来快速生成一个 $\frac ab$。<br>如果分式很复杂，亦可使用 <code>分子 \over 分母</code> 命令，此时分数仅有一层。</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$\frac&#123;a-1&#125;&#123;b-1&#125; \quad and \quad &#123;a+1\over b+1&#125;$$</span><br></pre></td></tr></table></figure></p><p>$$\frac{a-1}{b-1} \quad and \quad {a+1\over b+1}$$</p><h3 id="输入开方"><a href="#输入开方" class="headerlink" title="输入开方"></a>输入开方</h3><p>使用 <code>\sqrt [根指数，省略时为2] {被开方数}</code> 命令输入开方。</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$\sqrt&#123;2&#125; \quad and \quad \sqrt[n]&#123;3&#125;$$</span><br></pre></td></tr></table></figure></p><p>$$\sqrt{2} \quad and \quad \sqrt[n]{3}$$</p><h3 id="省略号"><a href="#省略号" class="headerlink" title="省略号"></a>省略号</h3><p>数学公式中常见的省略号有两种，<code>\ldots</code> 表示与文本底线对齐的省略号，<code>\cdots</code> 表示与文本中线对齐的省略号。</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$f(x_1,x_2,\underbrace&#123;\ldots&#125;_&#123;\rm ldots&#125; ,x_n) = x_1^2 + x_2^2 + \underbrace&#123;\cdots&#125;_&#123;\rm cdots&#125; + x_n^2$$</span><br></pre></td></tr></table></figure></p><p>$$f(x_1,x_2,\underbrace{\ldots}_{\rm ldots} ,x_n) = x_1^2 + x_2^2 + \underbrace{\cdots}_{\rm cdots} + x_n^2$$</p><h3 id="输入矢量"><a href="#输入矢量" class="headerlink" title="输入矢量"></a>输入矢量</h3><p>使用 <code>\vec{矢量}</code> 来自动产生一个矢量。也可以使用 <code>\overrightarrow</code> 等命令自定义字母上方的符号。</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$\vec&#123;a&#125; \cdot \vec&#123;b&#125;=0$$</span><br></pre></td></tr></table></figure></p><p>$$\vec{a} \cdot \vec{b}=0$$</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$\overleftarrow&#123;xy&#125; \quad and \quad \overleftrightarrow&#123;xy&#125; \quad and \quad \overrightarrow&#123;xy&#125;$$</span><br></pre></td></tr></table></figure></p><p>$$\overleftarrow{xy} \quad and \quad \overleftrightarrow{xy} \quad and \quad \overrightarrow{xy}$$</p><h3 id="输入积分"><a href="#输入积分" class="headerlink" title="输入积分"></a>输入积分</h3><p>使用 <code>\int_积分下限^积分上限 {被积表达式}</code> 来输入一个积分。</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$\int_0^1 &#123;x^2&#125; \,&#123;\rm d&#125;x$$</span><br></pre></td></tr></table></figure></p><p>$$\int_0^1 {x^2} \,{\rm d}x$$</p><p>本例中 <code>\,</code> 和 <code>{\rm d}</code> 部分可省略，但建议加入，能使式子更美观。</p><h3 id="极限运算"><a href="#极限运算" class="headerlink" title="极限运算"></a>极限运算</h3><p>使用 <code>\lim_{变量 \to 表达式} 表达式</code> 来输入一个极限。如有需求，可以更改 <code>\to</code> 符号至任意符号。</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ \lim_&#123;n \to +\infty&#125; \frac&#123;1&#125;&#123;n(n+1)&#125; \quad and \quad \lim_&#123;x\leftarrow&#123;示例&#125;&#125; \frac&#123;1&#125;&#123;n(n+1)&#125; $$</span><br></pre></td></tr></table></figure></p><p>$$<br>\lim_{n \to +\infty} \frac{1}{n(n+1)} \quad and \quad \lim_{x\leftarrow{示例}} \frac{1}{n(n+1)}<br>$$</p><h3 id="累加、累乘运算"><a href="#累加、累乘运算" class="headerlink" title="累加、累乘运算"></a>累加、累乘运算</h3><p>使用 <code>\sum_{下标表达式}^{上标表达式} {累加表达式}</code> 来输入一个累加。<br>与之类似，使用 <code>\prod</code> <code>\bigcup</code> <code>\bigcap</code> 来分别输入累乘、并集和交集。<br>此类符号在行内显示时上下标表达式将会移至右上角和右下角。</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$\sum_&#123;i=1&#125;^n \frac&#123;1&#125;&#123;i^2&#125; \quad and \quad \prod_&#123;i=1&#125;^n \frac&#123;1&#125;&#123;i^2&#125; \quad and \quad \bigcup_&#123;i=1&#125;^&#123;2&#125; R$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\sum_{i=1}^n \frac{1}{i^2} \quad and \quad \prod_{i=1}^n \frac{1}{i^2} \quad and \quad \bigcup_{i=1}^{2} R<br>$$</p><h3 id="希腊字母"><a href="#希腊字母" class="headerlink" title="希腊字母"></a>希腊字母</h3><p>输入 <code>\小写希腊字母英文全称</code> 和 <code>\首字母大写希腊字母英文全称</code> 来分别输入小写和大写希腊字母。<br><strong>对于大写希腊字母与现有字母相同的，直接输入大写字母即可。</strong></p><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\alpha</td><td>$\alpha$</td><td>A</td><td>$A$</td><td>\beta</td><td>$\beta$</td><td>B</td><td>$B$</td></tr><tr><td>\gamma</td><td>$\gamma$</td><td>\Gamma</td><td>$\Gamma$</td><td>\delta</td><td>$\delta$</td><td>\Delta</td><td>$\Delta$</td></tr><tr><td>\epsilon</td><td>$\epsilon$</td><td>E</td><td>$E$</td><td>\zeta</td><td>$\zeta$</td><td>Z</td><td>$Z$</td></tr><tr><td>\eta</td><td>$\eta$</td><td>H</td><td>$H$</td><td>\theta</td><td>$\theta$</td><td>\Theta</td><td>$\Theta$</td></tr><tr><td>\iota</td><td>$\iota$</td><td>I</td><td>$I$</td><td>\kappa</td><td>$\kappa$</td><td>K</td><td>$K$</td></tr><tr><td>\lambda</td><td>$\lambda$</td><td>\Lambda</td><td>$\Lambda$</td><td>\mu</td><td>$\mu$</td><td>M</td><td>$M$</td></tr><tr><td>\nu</td><td>$\nu$</td><td>N</td><td>$N$</td><td>\xi</td><td>$\xi$</td><td>\Xi</td><td>$\Xi$</td></tr><tr><td>o</td><td>$o$</td><td>O</td><td>$O$</td><td>\pi</td><td>$\pi$</td><td>\Pi</td><td>$\Pi$</td></tr><tr><td>\rho</td><td>$\rho$</td><td>P</td><td>$P$</td><td>\sigma</td><td>$\sigma$</td><td>\Sigma</td><td>$\Sigma$</td></tr><tr><td>\tau</td><td>$\tau$</td><td>T</td><td>$T$</td><td>\upsilon</td><td>$\upsilon$</td><td>\Upsilon</td><td>$\Upsilon$</td></tr><tr><td>\phi</td><td>$\phi$</td><td>\Phi</td><td>$\Phi$</td><td>\chi</td><td>$\chi$</td><td>X</td><td>$X$</td></tr><tr><td>\psi</td><td>$\psi$</td><td>\Psi</td><td>$\Psi$</td><td>\omega</td><td>$\omega$</td><td>\Omega</td><td>$\Omega$</td></tr></tbody></table><p><strong>部分字母有变量专用形式，以 <code>\var-</code> 开头。</strong></p><table><thead><tr><th>小写形式</th><th>大写形式</th><th>变量形式</th><th>显示</th></tr></thead><tbody><tr><td>\epsilon</td><td>E</td><td>\varepsilon</td><td>$\epsilon \mid E \mid \varepsilon$</td></tr><tr><td>\theta</td><td>\Theta</td><td>\vartheta</td><td>$\theta \mid \Theta \mid \vartheta$</td></tr><tr><td>\rho</td><td>P</td><td>\varrho</td><td>$\rho \mid P \mid \varrho$</td></tr><tr><td>\sigma</td><td>\Sigma</td><td>\varsigma</td><td>$\sigma \mid \Sigma \mid \varsigma$</td></tr><tr><td>\phi</td><td>\Phi</td><td>\varphi</td><td>$\phi \mid \Phi \mid \varphi$</td></tr></tbody></table><h3 id="其他特殊字符"><a href="#其他特殊字符" class="headerlink" title="其他特殊字符"></a>其他特殊字符</h3><p><strong>若需要显示更大或更小的字符，在符号前插入 \large 或 \small 命令。</strong></p><p>若找不到需要的符号，使用<a href="http://detexify.kirelabs.org/classify.html" target="_blank" rel="noopener">$\rm{Detexify^2}$</a>来画出想要的符号。</p><p><img src="http://i.stack.imgur.com/ScK3R.png" alt="Detexify2"></p><h4 id="1-关系运算符"><a href="#1-关系运算符" class="headerlink" title="(1) 关系运算符"></a>(1) 关系运算符</h4><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\pm</td><td>$\pm$</td><td>\times</td><td>$\times$</td><td>\div</td><td>$\div$</td><td>\mid</td><td>$\mid$</td></tr><tr><td>\nmid</td><td>$\nmid$</td><td>\cdot</td><td>$\cdot$</td><td>\circ</td><td>$\circ$</td><td>\ast</td><td>$\ast$</td></tr><tr><td>\bigodot</td><td>$\bigodot$</td><td>\bigotimes</td><td>$\bigotimes$</td><td>\bigoplus</td><td>$\bigoplus$</td><td>\leq</td><td>$\leq$</td></tr><tr><td>\geq</td><td>$\geq$</td><td>\neq</td><td>$\neq$</td><td>\approx</td><td>$\approx$</td><td>\equiv</td><td>$\equiv$</td></tr><tr><td>\sum</td><td>$\sum$</td><td>\prod</td><td>$\prod$</td><td>\coprod</td><td>$\coprod$</td><td>\backslash</td><td>$\backslash$</td></tr></tbody></table><h4 id="2-集合运算符"><a href="#2-集合运算符" class="headerlink" title="(2) 集合运算符"></a>(2) 集合运算符</h4><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\emptyset</td><td>$\emptyset$</td><td>\in</td><td>$\in$</td><td>\notin</td><td>$\notin$</td></tr><tr><td>\subset</td><td>$\subset$</td><td>\supset</td><td>$\supset$</td><td>\subseteq</td><td>$\subseteq$</td></tr><tr><td>\supseteq</td><td>$\supseteq$</td><td>\bigcap</td><td>$\bigcap$</td><td>\bigcup</td><td>$\bigcup$</td></tr><tr><td>\bigvee</td><td>$\bigvee$</td><td>\bigwedge</td><td>$\bigwedge$</td><td>\biguplus</td><td>$\biguplus$</td></tr></tbody></table><h4 id="3-对数运算符"><a href="#3-对数运算符" class="headerlink" title="(3) 对数运算符"></a>(3) 对数运算符</h4><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\log</td><td>$\log$</td><td>\lg</td><td>$\lg$</td><td>\ln</td><td>$\ln$</td></tr></tbody></table><h4 id="4-三角运算符"><a href="#4-三角运算符" class="headerlink" title="(4) 三角运算符"></a>(4) 三角运算符</h4><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>30^\circ</td><td>$30^\circ$</td><td>\bot</td><td>$\bot$</td><td>\angle A</td><td>$\angle A$</td></tr><tr><td>\sin</td><td>$\sin$</td><td>\cos</td><td>$\cos$</td><td>\tan</td><td>$\tan$</td></tr><tr><td>\csc</td><td>$\csc$</td><td>\sec</td><td>$\sec$</td><td>\cot</td><td>$\cot$</td></tr></tbody></table><h4 id="5-微积分运算符"><a href="#5-微积分运算符" class="headerlink" title="(5) 微积分运算符"></a>(5) 微积分运算符</h4><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\int</td><td>$\int$</td><td>\iint</td><td>$\iint$</td><td>\iiint</td><td>$\iiint$</td></tr><tr><td>\iiiint</td><td>$\iiiint$</td><td>\oint</td><td>$\oint$</td><td>\prime</td><td>$\prime$</td></tr><tr><td>\lim</td><td>$\lim$</td><td>\infty</td><td>$\infty$</td><td>\nabla</td><td>$\nabla$</td></tr></tbody></table><h4 id="6-逻辑运算符"><a href="#6-逻辑运算符" class="headerlink" title="(6) 逻辑运算符"></a>(6) 逻辑运算符</h4><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\because</td><td>$\because$</td><td>\therefore</td><td>$\therefore$</td><td></td><td></td></tr><tr><td>\forall</td><td>$\forall$</td><td>\exists</td><td>$\exists$</td><td>\not\subset</td><td>$\not\subset$</td></tr><tr><td>\not&lt;</td><td>$\not&lt;$</td><td>\not&gt;</td><td>$\not&gt;$</td><td>\not=</td><td>$\not=$</td></tr></tbody></table><h4 id="7-戴帽符号"><a href="#7-戴帽符号" class="headerlink" title="(7) 戴帽符号"></a>(7) 戴帽符号</h4><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\hat{xy}</td><td>$\hat{xy}$</td><td>\widehat{xyz}</td><td>$\widehat{xyz}$</td></tr><tr><td>\tilde{xy}</td><td>$\tilde{xy}$</td><td>\widetilde{xyz}</td><td>$\widetilde{xyz}$</td></tr><tr><td>\check{x}</td><td>$\check{x}$</td><td>\breve{y}</td><td>$\breve{y}$</td></tr><tr><td>\grave{x}</td><td>$\grave{x}$</td><td>\acute{y}</td><td>$\acute{y}$</td></tr></tbody></table><h4 id="8-连线符号"><a href="#8-连线符号" class="headerlink" title="(8) 连线符号"></a>(8) 连线符号</h4><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\fbox{a+b+c+d}</td><td>$\fbox{a+b+c+d}$</td></tr><tr><td>\overleftarrow{a+b+c+d}</td><td>$\overleftarrow{a+b+c+d}$</td></tr><tr><td>\overrightarrow{a+b+c+d}</td><td>$\overrightarrow{a+b+c+d}$</td></tr><tr><td>\overleftrightarrow{a+b+c+d}</td><td>$\overleftrightarrow{a+b+c+d}$</td></tr><tr><td>\underleftarrow{a+b+c+d}</td><td>$\underleftarrow{a+b+c+d}$</td></tr><tr><td>\underrightarrow{a+b+c+d}</td><td>$\underrightarrow{a+b+c+d}$</td></tr><tr><td>\underleftrightarrow{a+b+c+d}</td><td>$\underleftrightarrow{a+b+c+d}$</td></tr><tr><td>\overline{a+b+c+d}</td><td>$\overline{a+b+c+d}$</td></tr><tr><td>\underline{a+b+c+d}</td><td>$\underline{a+b+c+d}$</td></tr><tr><td>\overbrace{a+b+c+d}^{Sample}</td><td>$\overbrace{a+b+c+d}^{Sample}$</td></tr><tr><td>\underbrace{a+b+c+d}_{Sample}</td><td>$\underbrace{a+b+c+d}_{Sample}$</td></tr><tr><td>\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}</td><td>$\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}$</td></tr><tr><td>\underbrace{a\cdot a\cdots a}_{b\text{ times}}</td><td>$\underbrace{a\cdot a\cdots a}_{b\text{ times}}$</td></tr></tbody></table><h4 id="9-箭头符号"><a href="#9-箭头符号" class="headerlink" title="(9) 箭头符号"></a>(9) 箭头符号</h4><ul><li>推荐使用符号：</li></ul><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\to</td><td>$\to$</td><td>\mapsto</td><td>$\mapsto$</td><td></td><td></td></tr><tr><td>\implies</td><td>$\implies$</td><td>\iff</td><td>$\iff$</td><td>\impliedby</td><td>$\impliedby$</td></tr></tbody></table><ul><li>其它可用符号：</li></ul><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\uparrow</td><td>$\uparrow$</td><td>\Uparrow</td><td>$\Uparrow$</td></tr><tr><td>\downarrow</td><td>$\downarrow$</td><td>\Downarrow</td><td>$\Downarrow$</td></tr><tr><td>\leftarrow</td><td>$\leftarrow$</td><td>\Leftarrow</td><td>$\Leftarrow$</td></tr><tr><td>\rightarrow</td><td>$\rightarrow$</td><td>\Rightarrow</td><td>$\Rightarrow$</td></tr><tr><td>\leftrightarrow</td><td>$\leftrightarrow$</td><td>\Leftrightarrow</td><td>$\Leftrightarrow$</td></tr><tr><td>\longleftarrow</td><td>$\longleftarrow$</td><td>\Longleftarrow</td><td>$\Longleftarrow$</td></tr><tr><td>\longrightarrow</td><td>$\longrightarrow$</td><td>\Longrightarrow</td><td>$\Longrightarrow$</td></tr><tr><td>\longleftrightarrow</td><td>$\longleftrightarrow$</td><td>\Longleftrightarrow</td><td>$\Longleftrightarrow$</td></tr></tbody></table><h3 id="字体转换"><a href="#字体转换" class="headerlink" title="字体转换"></a>字体转换</h3><p>若要对公式的某一部分字符进行字体转换，可以用 <code>{\字体 {需转换的部分字符}}</code> 命令，其中 <code>\字体</code> 部分可以参照下表选择合适的字体。一般情况下，公式默认为意大利体  。</p><p>示例中 <strong>全部大写</strong> 的字体仅大写可用。</p><table><thead><tr><th>输入</th><th>说明</th><th>显示</th><th>输入</th><th>说明</th><th>显示</th></tr></thead><tbody><tr><td>\rm</td><td>罗马体</td><td>$\rm{Sample}$</td><td>\cal</td><td>花体</td><td>$\cal{Sample}$</td></tr><tr><td>\it</td><td>意大利体</td><td>$\it{Sample}$</td><td>\Bbb</td><td>黑板粗体</td><td>$\Bbb{Sample}$</td></tr><tr><td>\bf</td><td>粗体</td><td>$\bf{Sample}$</td><td>\mit</td><td>数学斜体</td><td>$\mit{Sample}$</td></tr><tr><td>\sf</td><td>等线体</td><td>$\sf{Sample}$</td><td>\scr</td><td>手写体</td><td>$\scr{Sample}$</td></tr><tr><td>\tt</td><td>打字机体</td><td>$\tt{Sample}$</td><td>\frak</td><td>旧德式字体</td><td>$\frak{Sample}$</td></tr></tbody></table><p>转换字体十分常用，例如在积分中：</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;array&#125;&#123;cc&#125;</span><br><span class="line">\mathrm&#123;Bad&#125; &amp; \mathrm&#123;Better&#125; \\</span><br><span class="line">\hline \\</span><br><span class="line">\int_0^1 x^2 dx &amp; \int_0^1 x^2 \,&#123;\rm d&#125;x</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\begin{array}{cc}<br>\mathrm{Bad} &amp; \mathrm{Better} \\<br>\hline \\<br>\int_0^1 x^2 dx &amp; \int_0^1 x^2 \,{\rm d}x<br>\end{array}<br>$$</p><p>注意比较两个式子间$dx$与${\rm d}x$的不同。<br>使用 <code>\operatorname</code> 命令也可以达到相同的效果，详见 <a href="#(1">定义新的符号 \operatorname</a> 定义新的符号 \operatorname) 。</p><h3 id="大括号和行标的使用"><a href="#大括号和行标的使用" class="headerlink" title="大括号和行标的使用"></a>大括号和行标的使用</h3><p>使用 <code>\left</code> 和 <code>\right</code> 来创建自动匹配高度的 (圆括号)，[方括号] 和 {花括号} 。<br>在每个公式末尾前使用 <code>\tag{行标}</code> 来实现行标。</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">f\left(</span><br><span class="line">   \left[ </span><br><span class="line">     \frac&#123;</span><br><span class="line">       1+\left\&#123;x,y\right\&#125;</span><br><span class="line">     &#125;&#123;</span><br><span class="line">       \left(</span><br><span class="line">          \frac&#123;x&#125;&#123;y&#125;+\frac&#123;y&#125;&#123;x&#125;</span><br><span class="line">       \right)</span><br><span class="line">       \left(u+1\right)</span><br><span class="line">     &#125;+a</span><br><span class="line">   \right]^&#123;3/2&#125;</span><br><span class="line">\right)</span><br><span class="line">\tag&#123;行标&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>f\left(<br>   \left[<br>     \frac{<br>       1+\left\{x,y\right\}<br>     }{<br>       \left(<br>          \frac{x}{y}+\frac{y}{x}<br>       \right)<br>       \left(u+1\right)<br>     }+a<br>   \right]^{3/2}<br>\right)<br>\tag{行标}<br>$$</p><p>如果你需要在不同的行显示对应括号，可以在每一行对应处使用 <code>\left.</code> 或 <code>\right.</code> 来放一个”影子”括号：</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;aligned&#125;</span><br><span class="line">a=&amp;\left(1+2+3+  \cdots \right. \\</span><br><span class="line">&amp; \cdots+ \left. \infty-2+\infty-1+\infty\right)</span><br><span class="line">\end&#123;aligned&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\begin{aligned}<br>a=&amp;\left(1+2+3+  \cdots \right. \<br>&amp; \cdots+ \left. \infty-2+\infty-1+\infty\right)<br>\end{aligned}<br>$$</p><p>如果你需要将行内显示的分隔符也变大，可以使用 <code>\middle</code> 命令：</p><p><strong>例：</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\left\langle  </span><br><span class="line">  q</span><br><span class="line">\middle\|</span><br><span class="line">  \frac&#123;\frac&#123;x&#125;&#123;y&#125;&#125;&#123;\frac&#123;u&#125;&#123;v&#125;&#125;</span><br><span class="line">\middle| </span><br><span class="line">   p </span><br><span class="line">\right\rangle</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\left\langle<br>  q<br>\middle|<br>  \frac{\frac{x}{y}}{\frac{u}{v}}<br>\middle|<br>   p<br>\right\rangle<br>$$</p><h3 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h3><h4 id="1-定义新的符号-operatorname"><a href="#1-定义新的符号-operatorname" class="headerlink" title="(1) 定义新的符号 \operatorname"></a>(1) 定义新的符号 <code>\operatorname</code></h4><p>查询 <a href="http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference/15077#15077" target="_blank" rel="noopener">关于此命令的定义</a> 和 <a href="http://meta.math.stackexchange.com/search?q=operatorname" target="_blank" rel="noopener">关于此命令的讨论</a> 来进一步了解此命令。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ \operatorname&#123;Symbol&#125; A $$</span><br></pre></td></tr></table></figure></p><p>$$ \operatorname{Symbol} A $$</p><h4 id="2-添加注释文字-text"><a href="#2-添加注释文字-text" class="headerlink" title="(2) 添加注释文字 \text"></a>(2) 添加注释文字 <code>\text</code></h4><p>在 <code>\text {文字}</code> 中仍可以使用 <code>$公式$</code> 插入其它公式。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ f(n)= \begin&#123;cases&#125; n/2, &amp; \text &#123;if $n$ is even&#125; \\ 3n+1, &amp; \text&#123;if $n$ is odd&#125; \end&#123;cases&#125; $$</span><br></pre></td></tr></table></figure></p><p>$$ f(n)= \begin{cases} n/2, &amp; \text {if $n$ is even} \\ 3n+1, &amp; \text{if $n$ is odd} \end{cases} $$</p><h4 id="3-在字符间加入空格"><a href="#3-在字符间加入空格" class="headerlink" title="(3) 在字符间加入空格"></a>(3) 在字符间加入空格</h4><p>有四种宽度的空格可以使用： <code>\,</code>、<code>\;</code>、<code>\quad</code> 和 <code>\qquad</code> 。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ a \, b \mid a \; b \mid a \quad b \mid a \qquad b $$</span><br></pre></td></tr></table></figure></p><p>$$ a \, b \mid a \; b \mid a \quad b \mid a \qquad b $$</p><p>当然，使用 <code>\text {n个空格}</code> 也可以达到同样效果。</p><h4 id="4-更改文字颜色"><a href="#4-更改文字颜色" class="headerlink" title="(4) 更改文字颜色"></a>(4) 更改文字颜色</h4><p>使用 <code>\color{颜色}{文字}</code> 来更改特定的文字颜色。<br>更改文字颜色 <strong>需要浏览器支持</strong> ，如果浏览器不知道你所需的颜色，那么文字将被渲染为黑色。</p><p>对于较旧的浏览器（HTML4与CSS2），以下颜色是被支持的：</p><table><thead><tr><th>输入</th><th>显示</th><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>black</td><td>$\color{black}{text}$</td><td>grey</td><td>$\color{grey}{text}$</td></tr><tr><td>silver</td><td>$\color{silver}{text}$</td><td>white</td><td>$\color{white}{text}$</td></tr><tr><td>maroon</td><td>$\color{maroon}{text}$</td><td>red</td><td>$\color{red}{text}$</td></tr><tr><td>yellow</td><td>$\color{yellow}{text}$</td><td>lime</td><td>$\color{lime}{text}$</td></tr><tr><td>olive</td><td>$\color{olive}{text}$</td><td>green</td><td>$\color{green}{text}$</td></tr><tr><td>teal</td><td>$\color{teal}{text}$</td><td>auqa</td><td>$\color{auqa}{text}$</td></tr><tr><td>blue</td><td>$\color{blue}{text}$</td><td>navy</td><td>$\color{navy}{text}$</td></tr><tr><td>purple</td><td>$\color{purple}{text}$</td><td>fuchsia</td><td>$\color{fuchsia}{text}$</td></tr></tbody></table><p>对于较新的浏览器（HTML5与CSS3），额外的124种颜色将被支持：</p><p>输入 <code>\color #rgb text</code> 来自定义更多的颜色，其中 <code>#rgb</code> 的 <code>r</code> <code>g</code> <code>b</code> 可输入 <code>0-9</code> 和 <code>a-f</code> 来表示红色、绿色和蓝色的纯度（饱和度）。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;array&#125;&#123;|rrrrrrrr|&#125;\hline</span><br><span class="line">\verb+#000+ &amp; \color&#123;#000&#125;&#123;text&#125; &amp; &amp; &amp;</span><br><span class="line">\verb+#00F+ &amp; \color&#123;#00F&#125;&#123;text&#125; &amp; &amp; \\</span><br><span class="line">&amp; &amp; \verb+#0F0+ &amp; \color&#123;#0F0&#125;&#123;text&#125; &amp;</span><br><span class="line">&amp; &amp; \verb+#0FF+ &amp; \color&#123;#0FF&#125;&#123;text&#125; \\</span><br><span class="line">\verb+#F00+ &amp; \color&#123;#F00&#125;&#123;text&#125; &amp; &amp; &amp;</span><br><span class="line">\verb+#F0F+ &amp; \color&#123;#F0F&#125;&#123;text&#125; &amp; &amp; \\</span><br><span class="line">&amp; &amp; \verb+#FF0+ &amp; \color&#123;#FF0&#125;&#123;text&#125; &amp;</span><br><span class="line">&amp; &amp; \verb+#FFF+ &amp; \color&#123;#FFF&#125;&#123;text&#125; \\</span><br><span class="line">\hline</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p><strong>例：</strong>：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;array&#125;&#123;|rrrrrrrr|&#125;</span><br><span class="line">\hline</span><br><span class="line">\verb+#000+ &amp; \color&#123;#000&#125;&#123;text&#125; &amp; \verb+#005+ &amp; \color&#123;#005&#125;&#123;text&#125; &amp; \verb+#00A+ &amp; \color&#123;#00A&#125;&#123;text&#125; &amp; \verb+#00F+ &amp; \color&#123;#00F&#125;&#123;text&#125;  \\</span><br><span class="line">\verb+#500+ &amp; \color&#123;#500&#125;&#123;text&#125; &amp; \verb+#505+ &amp; \color&#123;#505&#125;&#123;text&#125; &amp; \verb+#50A+ &amp; \color&#123;#50A&#125;&#123;text&#125; &amp; \verb+#50F+ &amp; \color&#123;#50F&#125;&#123;text&#125;  \\</span><br><span class="line">\verb+#A00+ &amp; \color&#123;#A00&#125;&#123;text&#125; &amp; \verb+#A05+ &amp; \color&#123;#A05&#125;&#123;text&#125; &amp; \verb+#A0A+ &amp; \color&#123;#A0A&#125;&#123;text&#125; &amp; \verb+#A0F+ &amp; \color&#123;#A0F&#125;&#123;text&#125;  \\</span><br><span class="line">\verb+#F00+ &amp; \color&#123;#F00&#125;&#123;text&#125; &amp; \verb+#F05+ &amp; \color&#123;#F05&#125;&#123;text&#125; &amp; \verb+#F0A+ &amp; \color&#123;#F0A&#125;&#123;text&#125; &amp; \verb+#F0F+ &amp; \color&#123;#F0F&#125;&#123;text&#125;  \\</span><br><span class="line">\hline</span><br><span class="line">\verb+#080+ &amp; \color&#123;#080&#125;&#123;text&#125; &amp; \verb+#085+ &amp; \color&#123;#085&#125;&#123;text&#125; &amp; \verb+#08A+ &amp; \color&#123;#08A&#125;&#123;text&#125; &amp; \verb+#08F+ &amp; \color&#123;#08F&#125;&#123;text&#125;  \\</span><br><span class="line">\verb+#580+ &amp; \color&#123;#580&#125;&#123;text&#125; &amp; \verb+#585+ &amp; \color&#123;#585&#125;&#123;text&#125; &amp; \verb+#58A+ &amp; \color&#123;#58A&#125;&#123;text&#125; &amp; \verb+#58F+ &amp; \color&#123;#58F&#125;&#123;text&#125;  \\</span><br><span class="line">\verb+#A80+ &amp; \color&#123;#A80&#125;&#123;text&#125; &amp; \verb+#A85+ &amp; \color&#123;#A85&#125;&#123;text&#125; &amp; \verb+#A8A+ &amp; \color&#123;#A8A&#125;&#123;text&#125; &amp; \verb+#A8F+ &amp; \color&#123;#A8F&#125;&#123;text&#125;  \\</span><br><span class="line">\verb+#F80+ &amp; \color&#123;#F80&#125;&#123;text&#125; &amp; \verb+#F85+ &amp; \color&#123;#F85&#125;&#123;text&#125; &amp; \verb+#F8A+ &amp; \color&#123;#F8A&#125;&#123;text&#125; &amp; \verb+#F8F+ &amp; \color&#123;#F8F&#125;&#123;text&#125;  \\</span><br><span class="line">\hline</span><br><span class="line">\verb+#0F0+ &amp; \color&#123;#0F0&#125;&#123;text&#125; &amp; \verb+#0F5+ &amp; \color&#123;#0F5&#125;&#123;text&#125; &amp; \verb+#0FA+ &amp; \color&#123;#0FA&#125;&#123;text&#125; &amp; \verb+#0FF+ &amp; \color&#123;#0FF&#125;&#123;text&#125;  \\</span><br><span class="line">\verb+#5F0+ &amp; \color&#123;#5F0&#125;&#123;text&#125; &amp; \verb+#5F5+ &amp; \color&#123;#5F5&#125;&#123;text&#125; &amp; \verb+#5FA+ &amp; \color&#123;#5FA&#125;&#123;text&#125; &amp; \verb+#5FF+ &amp; \color&#123;#5FF&#125;&#123;text&#125;  \\</span><br><span class="line">\verb+#AF0+ &amp; \color&#123;#AF0&#125;&#123;text&#125; &amp; \verb+#AF5+ &amp; \color&#123;#AF5&#125;&#123;text&#125; &amp; \verb+#AFA+ &amp; \color&#123;#AFA&#125;&#123;text&#125; &amp; \verb+#AFF+ &amp; \color&#123;#AFF&#125;&#123;text&#125;  \\</span><br><span class="line">\verb+#FF0+ &amp; \color&#123;#FF0&#125;&#123;text&#125; &amp; \verb+#FF5+ &amp; \color&#123;#FF5&#125;&#123;text&#125; &amp; \verb+#FFA+ &amp; \color&#123;#FFA&#125;&#123;text&#125; &amp; \verb+#FFF+ &amp; \color&#123;#FFF&#125;&#123;text&#125;  \\</span><br><span class="line">\hline</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><h4 id="5-添加删除线"><a href="#5-添加删除线" class="headerlink" title="(5) 添加删除线"></a>(5) 添加删除线</h4><p>使用删除线功能必须声明 <code>$$</code> 符号。</p><p>在公式内使用 <code>\require{cancel}</code> 来允许 <strong>片段删除线</strong> 的显示。<br>声明片段删除线后，使用 <code>\cancel{字符}</code>、<code>\bcancel{字符}</code>、<code>\xcancel{字符}</code> 和 <code>\cancelto{字符}</code> 来实现各种片段删除线效果。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\require&#123;cancel&#125;\begin&#123;array&#125;&#123;rl&#125;</span><br><span class="line">\verb|y+\cancel&#123;x&#125;| &amp; y+\cancel&#123;x&#125; \\</span><br><span class="line">\verb|\cancel&#123;y+x&#125;| &amp; \cancel&#123;y+x&#125; \\</span><br><span class="line">\verb|y+\bcancel&#123;x&#125;| &amp; y+\bcancel&#123;x&#125; \\</span><br><span class="line">\verb|y+\xcancel&#123;x&#125;| &amp; y+\xcancel&#123;x&#125; \\</span><br><span class="line">\verb|y+\cancelto&#123;0&#125;&#123;x&#125;| &amp; y+\cancelto&#123;0&#125;&#123;x&#125; \\</span><br><span class="line">\verb+\frac&#123;1\cancel9&#125;&#123;\cancel95&#125; = \frac15+&amp; \frac&#123;1\cancel9&#125;&#123;\cancel95&#125; = \frac15 \\</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\require{cancel}\begin{array}{rl}<br>\verb|y+\cancel{x}| &amp; y+\cancel{x} \\<br>\verb|\cancel{y+x}| &amp; \cancel{y+x} \\<br>\verb|y+\bcancel{x}| &amp; y+\bcancel{x} \\<br>\verb|y+\xcancel{x}| &amp; y+\xcancel{x} \\<br>\verb|y+\cancelto{0}{x}| &amp; y+\cancelto{0}{x} \\<br>\verb+\frac{1\cancel9}{\cancel95} = \frac15+&amp; \frac{1\cancel9}{\cancel95} = \frac15 \\<br>\end{array}<br>$$</p><p>使用 <code>\require{enclose}</code> 来允许 <strong>整段删除线</strong> 的显示。<br>声明整段删除线后，使用 <code>\enclose{删除线效果}{字符}</code> 来实现各种整段删除线效果。<br>其中，删除线效果有 <code>horizontalstrike</code>、<code>verticalstrike</code>、<code>updiagonalstrike</code> 和 <code>downdiagonalstrike</code>，可叠加使用。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\require&#123;enclose&#125;</span><br><span class="line">\begin&#123;array&#125;&#123;rl&#125;</span><br><span class="line">\verb|\enclose&#123;horizontalstrike&#125;&#123;x+y&#125;| &amp; \enclose&#123;horizontalstrike&#125;&#123;x+y&#125;\\</span><br><span class="line">\verb|\enclose&#123;verticalstrike&#125;&#123;\frac xy&#125;| &amp; \enclose&#123;verticalstrike&#125;&#123;\frac xy&#125;\\</span><br><span class="line">\verb|\enclose&#123;updiagonalstrike&#125;&#123;x+y&#125;| &amp; \enclose&#123;updiagonalstrike&#125;&#123;x+y&#125;\\</span><br><span class="line">\verb|\enclose&#123;downdiagonalstrike&#125;&#123;x+y&#125;| &amp; \enclose&#123;downdiagonalstrike&#125;&#123;x+y&#125;\\</span><br><span class="line">\verb|\enclose&#123;horizontalstrike,updiagonalstrike&#125;&#123;x+y&#125;| &amp; \enclose&#123;horizontalstrike,updiagonalstrike&#125;&#123;x+y&#125;\\</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\require{enclose}\begin{array}{rl}<br>\verb|\enclose{horizontalstrike}{x+y}| &amp; \enclose{horizontalstrike}{x+y}\\<br>\verb|\enclose{verticalstrike}{\frac xy}| &amp; \enclose{verticalstrike}{\frac xy}\\<br>\verb|\enclose{updiagonalstrike}{x+y}| &amp; \enclose{updiagonalstrike}{x+y}\\<br>\verb|\enclose{downdiagonalstrike}{x+y}| &amp; \enclose{downdiagonalstrike}{x+y}\\<br>\verb|\enclose{horizontalstrike,updiagonalstrike}{x+y}| &amp; \enclose{horizontalstrike,updiagonalstrike}{x+y}\\<br>\end{array}<br>$$<br>此外， <code>\enclose</code> 命令还可以产生包围的边框和圆等，参见 <a href="https://developer.mozilla.org/en-US/docs/Web/MathML/Element/menclose" target="_blank" rel="noopener">MathML Menclose Documentation</a> 以查看更多效果。</p><h2 id="二、矩阵使用参考"><a href="#二、矩阵使用参考" class="headerlink" title="二、矩阵使用参考"></a>二、矩阵使用参考</h2><h3 id="无框矩阵"><a href="#无框矩阵" class="headerlink" title="无框矩阵"></a>无框矩阵</h3><p>在开头使用 <code>begin{matrix}</code>，在结尾使用 <code>end{matrix}</code>，在中间插入矩阵元素，每个元素之间插入 <code>&amp;</code> ，并在每行结尾处使用 <code>\\</code> 。<br>使用矩阵时必须声明 <code>$</code> 或 <code>$$</code> 符号。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;matrix&#125;</span><br><span class="line">1 &amp; x &amp; x^2 \\</span><br><span class="line">1 &amp; y &amp; y^2 \\</span><br><span class="line">1 &amp; z &amp; z^2 \\</span><br><span class="line">\end&#123;matrix&#125; </span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\begin{matrix}<br>1 &amp; x &amp; x^2 \\<br>1 &amp; y &amp; y^2 \\<br>1 &amp; z &amp; z^2 \\<br>\end{matrix}<br>$$</p><h3 id="边框矩阵"><a href="#边框矩阵" class="headerlink" title="边框矩阵"></a>边框矩阵</h3><p>在开头将 <code>matrix</code> 替换为 <code>pmatrix</code> <code>bmatrix</code> <code>Bmatrix</code> <code>vmatrix</code> <code>Vmatrix</code> 。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ \begin&#123;matrix&#125; 1 &amp; 2 \\ 3 &amp; 4 \\ \end&#123;matrix&#125; $</span><br><span class="line">$ \begin&#123;pmatrix&#125; 1 &amp; 2 \\ 3 &amp; 4 \\ \end&#123;pmatrix&#125; $</span><br><span class="line">$ \begin&#123;bmatrix&#125; 1 &amp; 2 \\ 3 &amp; 4 \\ \end&#123;bmatrix&#125; $</span><br><span class="line">$ \begin&#123;Bmatrix&#125; 1 &amp; 2 \\ 3 &amp; 4 \\ \end&#123;Bmatrix&#125; $</span><br><span class="line">$ \begin&#123;vmatrix&#125; 1 &amp; 2 \\ 3 &amp; 4 \\ \end&#123;vmatrix&#125; $</span><br><span class="line">$ \begin&#123;Vmatrix&#125; 1 &amp; 2 \\ 3 &amp; 4 \\ \end&#123;Vmatrix&#125; $</span><br></pre></td></tr></table></figure></p><table><thead><tr><th>matrix</th><th>pmatrix</th><th>bmatrix</th><th>Bmatrix</th><th>vmatrix</th><th>Vmatrix</th></tr></thead><tbody><tr><td>$ \begin{matrix} 1 &amp; 2 \\ 3 &amp; 4 \\ \end{matrix} $</td><td>$ \begin{pmatrix} 1 &amp; 2 \\ 3 &amp; 4 \\ \end{pmatrix} $</td><td>$ \begin{bmatrix} 1 &amp; 2 \\ 3 &amp; 4 \\ \end{bmatrix} $</td><td>$ \begin{matrix} 1 &amp; 2 \\ 3 &amp; 4 \\ \end{matrix} $</td><td>$ \begin{vmatrix} 1 &amp; 2 \\ 3 &amp; 4 \\ \end{vmatrix} $</td><td>$ \begin{Vmatrix} 1 &amp; 2 \\ 3 &amp; 4 \\ \end{Vmatrix} $</td></tr></tbody></table><h3 id="带省略符号的矩阵"><a href="#带省略符号的矩阵" class="headerlink" title="带省略符号的矩阵"></a>带省略符号的矩阵</h3><p>使用 <code>\cdots</code>  , <code>\ddots</code>  , <code>\vdots</code>  来输入省略符号。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;pmatrix&#125;</span><br><span class="line">1 &amp; a_1 &amp; a_1^2 &amp; \cdots &amp; a_1^n \\</span><br><span class="line">1 &amp; a_2 &amp; a_2^2 &amp; \cdots &amp; a_2^n \\</span><br><span class="line">\vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\</span><br><span class="line">1 &amp; a_m &amp; a_m^2 &amp; \cdots &amp; a_m^n \\</span><br><span class="line">\end&#123;pmatrix&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\begin{pmatrix}<br>1 &amp; a_1 &amp; a_1^2 &amp; \cdots &amp; a_1^n \\<br>1 &amp; a_2 &amp; a_2^2 &amp; \cdots &amp; a_2^n \\<br>\vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>1 &amp; a_m &amp; a_m^2 &amp; \cdots &amp; a_m^n \\<br>\end{pmatrix}<br>$$</p><h3 id="带分割符号的矩阵"><a href="#带分割符号的矩阵" class="headerlink" title="带分割符号的矩阵"></a>带分割符号的矩阵</h3><p>详见”<a href="https://www.zybuluo.com/codeep/note/163962#%E4%BA%94%E6%95%B0%E7%BB%84%E4%B8%8E%E8%A1%A8%E6%A0%BC%E4%BD%BF%E7%94%A8%E5%8F%82%E8%80%83" target="_blank" rel="noopener">数组使用参考</a>“。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\left[</span><br><span class="line">    \begin&#123;array&#125;&#123;cc|c&#125;</span><br><span class="line">        1&amp;2&amp;3\\</span><br><span class="line">        4&amp;5&amp;6</span><br><span class="line">    \end&#123;array&#125;</span><br><span class="line">\right]</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\left[<br>    \begin{array}{cc|c}<br>        1&amp;2&amp;3\\<br>        4&amp;5&amp;6<br>    \end{array}<br>\right]<br>$$</p><p>其中 <code>cc|c</code> 代表在一个三列矩阵中的第二和第三列之间插入分割线。</p><h3 id="行中矩阵"><a href="#行中矩阵" class="headerlink" title="行中矩阵"></a>行中矩阵</h3><p>若想在一行内显示矩阵，<br>使用<code>\bigl(\begin{smallmatrix} ... \end{smallmatrix}\bigr)</code>。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是一个行中矩阵的示例 $\bigl( \begin&#123;smallmatrix&#125; a &amp; b \\ c &amp; d \end&#123;smallmatrix&#125; \bigr)$ 。</span><br></pre></td></tr></table></figure></p><p>这是一个行中矩阵的示例 $\bigl( \begin{smallmatrix} a &amp; b \\ c &amp; d \end{smallmatrix} \bigr)$ 。</p><h2 id="三、方程式序列使用参考"><a href="#三、方程式序列使用参考" class="headerlink" title="三、方程式序列使用参考"></a>三、方程式序列使用参考</h2><h3 id="方程式序列"><a href="#方程式序列" class="headerlink" title="方程式序列"></a>方程式序列</h3><p>人们经常想要一列整齐且居中的方程式序列。使用 <code>\begin{align}…\end{align}</code> 来创造一列方程式，其中在每行结尾处使用 <code>\\</code> 。<br>使用方程式序列无需声明公式符号 <code>$</code> 或 <code>$$</code> 。</p><p>请注意 <code>{align}</code> 语句是 <strong>自动编号</strong> 的。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;align&#125;</span><br><span class="line">\sqrt&#123;37&#125; &amp; = \sqrt&#123;\frac&#123;73^2-1&#125;&#123;12^2&#125;&#125; \\ </span><br><span class="line">&amp; = \sqrt&#123;\frac&#123;73^2&#125;&#123;12^2&#125;\cdot\frac&#123;73^2-1&#125;&#123;73^2&#125;&#125; \\ </span><br><span class="line">&amp; = \sqrt&#123;\frac&#123;73^2&#125;&#123;12^2&#125;&#125;\sqrt&#123;\frac&#123;73^2-1&#125;&#123;73^2&#125;&#125; \\ </span><br><span class="line">&amp; = \frac&#123;73&#125;&#123;12&#125;\sqrt&#123;1 - \frac&#123;1&#125;&#123;73^2&#125;&#125; \\</span><br><span class="line">&amp; \approx \frac&#123;73&#125;&#123;12&#125;\left(1 - \frac&#123;1&#125;&#123;2\cdot73^2&#125;\right)</span><br><span class="line">\end&#123;align&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\begin{align}<br>\sqrt{37} &amp; = \sqrt{\frac{73^2-1}{12^2}} \\<br>&amp; = \sqrt{\frac{73^2}{12^2}\cdot\frac{73^2-1}{73^2}} \\<br>&amp; = \sqrt{\frac{73^2}{12^2}}\sqrt{\frac{73^2-1}{73^2}} \\<br>&amp; = \frac{73}{12}\sqrt{1 - \frac{1}{73^2}} \\<br>&amp; \approx \frac{73}{12}\left(1 - \frac{1}{2\cdot73^2}\right)<br>\end{align}<br>$$</p><p>本例中每行公式的编号续自 <a href="">如何插入公式</a> 中的自动编号公式  。</p><h3 id="在一个方程式序列的每一行中注明原因"><a href="#在一个方程式序列的每一行中注明原因" class="headerlink" title="在一个方程式序列的每一行中注明原因"></a>在一个方程式序列的每一行中注明原因</h3><p>在 <code>{align}</code> 中灵活组合 <code>\text</code> 和 <code>\tag</code> 语句。<code>\tag</code> 语句编号优先级高于自动编号。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;align&#125;  </span><br><span class="line">    v + w &amp; = 0  &amp;\text&#123;Given&#125; \tag 1\\   </span><br><span class="line">    -w &amp; = -w + 0 &amp; \text&#123;additive identity&#125; \tag 2\\  </span><br><span class="line">    -w + 0 &amp; = -w + (v + w) &amp; \text&#123;equations $(1)$ and $(2)$&#125; </span><br><span class="line">\end&#123;align&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\begin{align}<br>v + w &amp; = 0  &amp;\text{Given} \tag 1\\<br>-w &amp; = -w + 0 &amp; \text{additive identity} \tag 2\\<br>-w + 0 &amp; = -w + (v + w) &amp; \text{equations $(1)$ and $(2)$}<br>\end{align}<br>$$</p><p>本例中第一、第二行的自动编号被 <code>\tag</code> 语句覆盖，第三行的编号为自动编号。</p><h2 id="四、条件表达式使用参考"><a href="#四、条件表达式使用参考" class="headerlink" title="四、条件表达式使用参考"></a>四、条件表达式使用参考</h2><h3 id="条件表达式"><a href="#条件表达式" class="headerlink" title="条件表达式"></a>条件表达式</h3><p>使用 <code>begin{cases}</code> 来创造一组条件表达式，在每一行条件中插入 <code>&amp;</code> 来指定需要对齐的内容，并在每一行结尾处使用 <code>\\</code>，以 <code>end{cases}</code> 结束。<br>条件表达式无需声明 <code>$</code> 或 <code>$$</code> 符号。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">f(n) = </span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">n/2,  &amp; \text&#123;if $n$ is even&#125; \\</span><br><span class="line">3n+1, &amp; \text&#123;if $n$ is odd&#125;  </span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>f(n) =<br>\begin{cases}<br>n/2,  &amp; \text{if $n$ is even} \\<br>3n+1, &amp; \text{if $n$ is odd}<br>\end{cases}<br>$$</p><h3 id="左侧对齐的条件表达式"><a href="#左侧对齐的条件表达式" class="headerlink" title="左侧对齐的条件表达式"></a>左侧对齐的条件表达式</h3><p>若想让文字在 <strong>左侧对齐显示</strong> ，则有如下方式：</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\left.</span><br><span class="line">\begin&#123;array&#125;&#123;l&#125;</span><br><span class="line">\text&#123;if $n$ is even:&#125;&amp;n/2\\</span><br><span class="line">\text&#123;if $n$ is odd:&#125;&amp;3n+1</span><br><span class="line">\end&#123;array&#125; </span><br><span class="line">\right\&#125; </span><br><span class="line">=f(n)</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\left.<br>\begin{array}{l}<br>\text{if $n$ is even:}&amp;n/2\\<br>\text{if $n$ is odd:}&amp;3n+1<br>\end{array}<br>\right\}<br>=f(n)<br>$$</p><h3 id="使条件表达式适配行高"><a href="#使条件表达式适配行高" class="headerlink" title="使条件表达式适配行高"></a>使条件表达式适配行高</h3><p>在一些情况下，条件表达式中某些行的行高为非标准高度，此时使用 <code>\\[2ex]</code> 语句代替该行末尾的 <code>\\</code> 来让编辑器适配。</p><p><strong>例：</strong>：</p><p>不适配[2ex]<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">f(n) = </span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">\frac&#123;n&#125;&#123;2&#125;,  &amp; \text&#123;if $n$ is even&#125; \\</span><br><span class="line">3n+1, &amp; \text&#123;if $n$ is odd&#125;</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>适配[2ex]<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">f(n) = </span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">\frac&#123;n&#125;&#123;2&#125;,  &amp; \text&#123;if $n$ is even&#125; \\[2ex]</span><br><span class="line">3n+1, &amp; \text&#123;if $n$ is odd&#125;</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><table><thead><tr><th>不适配[2ex]</th></tr></thead><tbody><tr><td>$$f(n) = \begin{cases}\frac{n}{2},  &amp; \text{if $n$ is even} \\3n+1, &amp; \text{if $n$ is odd}\end{cases}$$</td></tr></tbody></table><table><thead><tr><th>适配[2ex]</th></tr></thead><tbody><tr><td>$$f(n) = \begin{cases}\frac{n}{2},  &amp; \text{if $n$ is even} \\[2ex]3n+1, &amp; \text{if $n$ is odd}\end{cases}$$</td></tr></tbody></table><p><strong>一个 [ex] 指一个 “X-Height”，即x字母高度。可以根据情况指定多个 [ex]，如 [3ex]、[4ex] 等。</strong><br>其实可以在任何地方使用 <code>\\[2ex]</code> 语句，只要你觉得合适。</p><h2 id="五、数组与表格使用参考"><a href="#五、数组与表格使用参考" class="headerlink" title="五、数组与表格使用参考"></a>五、数组与表格使用参考</h2><h3 id="数组或表格"><a href="#数组或表格" class="headerlink" title="数组或表格"></a>数组或表格</h3><p>通常，一个格式化后的表格比单纯的文字或排版后的文字更具有可读性。数组和表格均以 <code>begin{array}</code> 开头，并在其后定义列数及每一列的文本对齐属性，<code>c</code> <code>l</code> <code>r</code> 分别代表居中、左对齐及右对齐。若需要插入垂直分割线，在定义式中插入 <code>|</code> ，若要插入水平分割线，在下一行输入前插入 <code>\hline</code> 。与矩阵相似，每行元素间均须要插入 <code>&amp;</code> ，每行元素以 <code>\\</code> 结尾，最后以 <code>end{array}</code> 结束数组。<br>使用单个数组或表格时无需声明 <code>$</code> 或 <code>$$</code> 符号。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;array&#125;&#123;c|lcr&#125;</span><br><span class="line">n &amp; \text&#123;左对齐&#125; &amp; \text&#123;居中对齐&#125; &amp; \text&#123;右对齐&#125; \\</span><br><span class="line">\hline</span><br><span class="line">1 &amp; 0.24 &amp; 1 &amp; 125 \\</span><br><span class="line">2 &amp; -1 &amp; 189 &amp; -8 \\</span><br><span class="line">3 &amp; -20 &amp; 2000 &amp; 1+10i</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\begin{array}{c|lcr}<br>n &amp; \text{左对齐} &amp; \text{居中对齐} &amp; \text{右对齐} \\<br>\hline<br>1 &amp; 0.24 &amp; 1 &amp; 125 \\<br>2 &amp; -1 &amp; 189 &amp; -8 \\<br>3 &amp; -20 &amp; 2000 &amp; 1+10i<br>\end{array}<br>$$</p><h3 id="嵌套的数组或表格"><a href="#嵌套的数组或表格" class="headerlink" title="嵌套的数组或表格"></a>嵌套的数组或表格</h3><p>多个数组/表格可 <strong>互相嵌套</strong> 并组成一组数组/一组表格。<br>使用嵌套前必须声明 <code>$$</code> 符号。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">% outer vertical array of arrays 外层垂直表格</span><br><span class="line">\begin&#123;array&#125;&#123;c&#125;</span><br><span class="line">    % inner horizontal array of arrays 内层水平表格</span><br><span class="line">    \begin&#123;array&#125;&#123;cc&#125;</span><br><span class="line">        % inner array of minimum values 内层&quot;最小值&quot;数组</span><br><span class="line">        \begin&#123;array&#125;&#123;c|cccc&#125;</span><br><span class="line">        \text&#123;min&#125; &amp; 0 &amp; 1 &amp; 2 &amp; 3\\</span><br><span class="line">        \hline</span><br><span class="line">        0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\</span><br><span class="line">        1 &amp; 0 &amp; 1 &amp; 1 &amp; 1\\</span><br><span class="line">        2 &amp; 0 &amp; 1 &amp; 2 &amp; 2\\</span><br><span class="line">        3 &amp; 0 &amp; 1 &amp; 2 &amp; 3</span><br><span class="line">        \end&#123;array&#125;</span><br><span class="line">    &amp;</span><br><span class="line">        % inner array of maximum values 内层&quot;最大值&quot;数组</span><br><span class="line">        \begin&#123;array&#125;&#123;c|cccc&#125;</span><br><span class="line">        \text&#123;max&#125;&amp;0&amp;1&amp;2&amp;3\\</span><br><span class="line">        \hline</span><br><span class="line">        0 &amp; 0 &amp; 1 &amp; 2 &amp; 3\\</span><br><span class="line">        1 &amp; 1 &amp; 1 &amp; 2 &amp; 3\\</span><br><span class="line">        2 &amp; 2 &amp; 2 &amp; 2 &amp; 3\\</span><br><span class="line">        3 &amp; 3 &amp; 3 &amp; 3 &amp; 3</span><br><span class="line">        \end&#123;array&#125;</span><br><span class="line">    \end&#123;array&#125;</span><br><span class="line">    % 内层第一行表格组结束</span><br><span class="line">    \\</span><br><span class="line">    % inner array of delta values 内层第二行Delta值数组</span><br><span class="line">        \begin&#123;array&#125;&#123;c|cccc&#125;</span><br><span class="line">        \Delta&amp;0&amp;1&amp;2&amp;3\\</span><br><span class="line">        \hline</span><br><span class="line">        0 &amp; 0 &amp; 1 &amp; 2 &amp; 3\\</span><br><span class="line">        1 &amp; 1 &amp; 0 &amp; 1 &amp; 2\\</span><br><span class="line">        2 &amp; 2 &amp; 1 &amp; 0 &amp; 1\\</span><br><span class="line">        3 &amp; 3 &amp; 2 &amp; 1 &amp; 0</span><br><span class="line">        \end&#123;array&#125;</span><br><span class="line">        % 内层第二行表格组结束</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\begin{array}{c}<br>    \begin{array}{cc}<br>        \begin{array}{c|cccc}<br>        \text{min} &amp; 0 &amp; 1 &amp; 2 &amp; 3\\<br>        \hline<br>        0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\<br>        1 &amp; 0 &amp; 1 &amp; 1 &amp; 1\\<br>        2 &amp; 0 &amp; 1 &amp; 2 &amp; 2\\<br>        3 &amp; 0 &amp; 1 &amp; 2 &amp; 3<br>        \end{array}<br>    &amp;<br>        \begin{array}{c|cccc}<br>        \text{max}&amp;0&amp;1&amp;2&amp;3\\<br>        \hline<br>        0 &amp; 0 &amp; 1 &amp; 2 &amp; 3\\<br>        1 &amp; 1 &amp; 1 &amp; 2 &amp; 3\\<br>        2 &amp; 2 &amp; 2 &amp; 2 &amp; 3\\<br>        3 &amp; 3 &amp; 3 &amp; 3 &amp; 3<br>        \end{array}<br>    \end{array}<br>    \\<br>        \begin{array}{c|cccc}<br>        \Delta&amp;0&amp;1&amp;2&amp;3\\<br>        \hline<br>        0 &amp; 0 &amp; 1 &amp; 2 &amp; 3\\<br>        1 &amp; 1 &amp; 0 &amp; 1 &amp; 2\\<br>        2 &amp; 2 &amp; 1 &amp; 0 &amp; 1\\<br>        3 &amp; 3 &amp; 2 &amp; 1 &amp; 0<br>        \end{array}<br>\end{array}<br>$$</p><h3 id="方程组"><a href="#方程组" class="headerlink" title="方程组"></a>方程组</h3><p>使用 <code>\begin{array}…\end{array}</code> 和 <code>\left\{…\right.</code> 来创建一个方程组。</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\left\&#123; </span><br><span class="line">\begin&#123;array&#125;&#123;c&#125;</span><br><span class="line">a_1x+b_1y+c_1z=d_1 \\ </span><br><span class="line">a_2x+b_2y+c_2z=d_2 \\ </span><br><span class="line">a_3x+b_3y+c_3z=d_3</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">\right. </span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\left\{<br>\begin{array}{c}<br>a_1x+b_1y+c_1z=d_1 \\<br>a_2x+b_2y+c_2z=d_2 \\<br>a_3x+b_3y+c_3z=d_3<br>\end{array}<br>\right.<br>$$</p><p>或者使用条件表达式组 <code>\begin{cases}…\end{cases}</code> 来实现相同效果：</p><p><strong>例：</strong>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">a_1x+b_1y+c_1z=d_1 \\ </span><br><span class="line">a_2x+b_2y+c_2z=d_2 \\ </span><br><span class="line">a_3x+b_3y+c_3z=d_3</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure></p><p>$$<br>\begin{cases}<br>a_1x+b_1y+c_1z=d_1 \\<br>a_2x+b_2y+c_2z=d_2 \\<br>a_3x+b_3y+c_3z=d_3<br>\end{cases}<br>$$</p><h2 id="六、连分数使用参考"><a href="#六、连分数使用参考" class="headerlink" title="六、连分数使用参考"></a>六、连分数使用参考</h2><h3 id="连分式"><a href="#连分式" class="headerlink" title="连分式"></a>连分式</h3><p>就像输入分式时使用 <code>\frac</code> 一样，使用 <code>\cfrac</code> 来创建一个连分数。</p><p><strong>例：</strong>：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">x = a_0 + \cfrac&#123;1^2&#125;&#123;a_1</span><br><span class="line">          + \cfrac&#123;2^2&#125;&#123;a_2</span><br><span class="line">          + \cfrac&#123;3^2&#125;&#123;a_3 + \cfrac&#123;4^4&#125;&#123;a_4 + \cdots&#125;&#125;&#125;&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>$$<br>x = a_0 + \cfrac{1^2}{a_1<br>+ \cfrac{2^2}{a_2<br>+ \cfrac{3^2}{a_3 + \cfrac{4^4}{a_4 + \cdots}}}}<br>$$</p><p>不要使用普通的 <code>\frac</code> 或 <code>\over</code> 来创建，否则会看起来 <strong>很恶心</strong> 。</p><p><strong>反例：</strong>：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">x = a_0 + \frac&#123;1^2&#125;&#123;a_1</span><br><span class="line">+ \frac&#123;2^2&#125;&#123;a_2</span><br><span class="line">+ \frac&#123;3^2&#125;&#123;a_3 + \frac&#123;4^4&#125;&#123;a_4 + \cdots&#125;&#125;&#125;&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>$$<br>x = a_0 + \frac{1^2}{a_1<br>+ \frac{2^2}{a_2<br>+ \frac{3^2}{a_3 + \frac{4^4}{a_4 + \cdots}}}}<br>$$</p><p>当然，你可以使用 <code>\frac</code> 来表达连分数的 <strong>紧缩记法</strong> 。</p><p><strong>例：</strong>：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">x = a_0 + \frac&#123;1^2&#125;&#123;a_1+&#125;</span><br><span class="line">          \frac&#123;2^2&#125;&#123;a_2+&#125;</span><br><span class="line">          \frac&#123;3^2&#125;&#123;a_3 +&#125; \frac&#123;4^4&#125;&#123;a_4 +&#125; \cdots</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>$$<br>x = a_0 + \frac{1^2}{a_1+}<br>\frac{2^2}{a_2+}<br>\frac{3^2}{a_3 +} \frac{4^4}{a_4 +} \cdots<br>$$</p><p>连分数通常都太大以至于不易排版，所以建议在连分数前后声明 <code>$$</code> 符号，或使用像 <code>[a0;a1,a2,a3,…]</code> 一样的紧缩记法。</p><h2 id="七、交换图表使用参考"><a href="#七、交换图表使用参考" class="headerlink" title="七、交换图表使用参考"></a>七、交换图表使用参考</h2><h3 id="交换图表"><a href="#交换图表" class="headerlink" title="交换图表"></a>交换图表</h3><p>使用一行 <code>$ \require{AMScd} $</code> 语句来允许交换图表的显示。<br>声明交换图表后，语法与矩阵相似，在开头使用 <code>begin{CD}</code>，在结尾使用 <code>end{CD}</code>，在中间插入图表元素，每个元素之间插入 <code>&amp;</code> ，并在每行结尾处使用 <code>\\</code> 。</p><p><strong>例：</strong>：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$\require&#123;AMScd&#125;$</span><br><span class="line">\begin&#123;CD&#125;</span><br><span class="line">    A @&gt;&gt;&gt; B\\</span><br><span class="line">    @VVV @VVV\\</span><br><span class="line">    C @&gt;&gt;&gt; D</span><br><span class="line">\end&#123;CD&#125;</span><br></pre></td></tr></table></figure><p>$$<br>$\require{AMScd}$<br>\begin{CD}<br>A @&gt;&gt;&gt; B\\<br>@VVV @VVV\\<br>C @&gt;&gt;&gt; D<br>\end{CD}<br>$$</p><p>其中，<code>@&gt;&gt;&gt;</code> 代表右箭头、<code>@&lt;&lt;&lt;</code> 代表左箭头、<code>@VVV</code> 代表下箭头、<code>@AAA</code> 代表上箭头、<code>@=</code> 代表水平双实线、<code>@|</code> 代表竖直双实线、<code>@.</code>代表没有箭头。<br>在 <code>@&gt;&gt;&gt;</code> 的 <code>&gt;&gt;&gt;</code> 之间任意插入文字即代表该箭头的注释文字。</p><p><strong>例：</strong>：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;CD&#125;</span><br><span class="line">    A @&gt;&gt;&gt; B @&gt;&#123;\text&#123;very long label&#125;&#125;&gt;&gt; C \\</span><br><span class="line">    @. @AAA @| \\</span><br><span class="line">    D @= E @&lt;&lt;&lt; F</span><br><span class="line">\end&#123;CD&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>$$<br>\begin{CD}<br>A @&gt;&gt;&gt; B @&gt;{\text{very long label}}&gt;&gt; C \\<br>@. @AAA @| \\<br>D @= E @&lt;&lt;&lt; F<br>\end{CD}<br>$$</p><p>在本例中， “very long label”自动延长了它所在箭头以及对应箭头的长度。</p><h2 id="八、一些特殊的注意事项"><a href="#八、一些特殊的注意事项" class="headerlink" title="八、一些特殊的注意事项"></a>八、一些特殊的注意事项</h2><blockquote><p>These are issues that won’t affect the correctness of formulas, but might make them look significantly better or worse. Beginners should feel free to ignore this advice; someone else will correct it for them, or more likely nobody will care.</p></blockquote><p>现在指出的小问题并不会影响方程式及公式等的正确显示，但能让它们看起来明显更好看。初学者可无视这些建议，自然会有强迫症患者替你们改掉它的，或者更可能地，根本没人发现这些问题。</p><blockquote><p> Don’t use <code>\frac</code> in exponents or limits of integrals; it looks bad and can be confusing, which is why it is rarely done in professional mathematical typesetting. Write the fraction horizontally, with a slash.</p></blockquote><p>在以e为底的指数函数、极限和积分中尽量不要使用 <code>\frac</code> 符号：它会使整段函数看起来很怪，而且可能产生歧义。也正是因此它在专业数学排版中几乎从不出现。<br>横着写这些分式，中间使用斜线间隔 <code>/</code> （用斜线代替分数线）。</p><p><strong>例：</strong>：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;array&#125;&#123;cc&#125;</span><br><span class="line">\mathrm&#123;Bad&#125; &amp; \mathrm&#123;Better&#125; \\</span><br><span class="line">\hline \\</span><br><span class="line">e^&#123;i\frac&#123;\pi&#125;2&#125; \quad e^&#123;\frac&#123;i\pi&#125;2&#125;&amp; e^&#123;i\pi/2&#125; \\</span><br><span class="line">\int_&#123;-\frac\pi2&#125;^\frac\pi2 \sin x\,dx &amp; \int_&#123;-\pi/2&#125;^&#123;\pi/2&#125;\sin x\,dx \\</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>$$<br>\begin{array}{cc}<br>\mathrm{Bad} &amp; \mathrm{Better} \\<br>\hline \\<br>e^{i\frac{\pi}2} \quad e^{\frac{i\pi}2}&amp; e^{i\pi/2} \\<br>\int_{-\frac\pi2}^\frac\pi2 \sin x\,dx &amp; \int_{-\pi/2}^{\pi/2}\sin x\,dx \\<br>\end{array}<br>$$</p><blockquote><p> The <code>|</code> symbol has the wrong spacing when it is used as a divider, for example in set comprehensions. Use <code>\mid</code> instead.</p></blockquote><p><code>|</code> 符号在被当作分隔符时会产生错误的间隔，因此在需要分隔时最好使用 <code>\mid</code> 来代替它。</p><p><strong>例：</strong>：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;array&#125;&#123;cc&#125;</span><br><span class="line">\mathrm&#123;Bad&#125; &amp; \mathrm&#123;Better&#125; \\</span><br><span class="line">\hline \\</span><br><span class="line">\&#123;x|x^2\in\Bbb Z\&#125; &amp; \&#123;x\mid x^2\in\Bbb Z\&#125; \\</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>$$<br>\begin{array}{cc}<br>\mathrm{Bad} &amp; \mathrm{Better} \\<br>\hline \\<br>\{x|x^2\in\Bbb Z\} &amp; \{x\mid x^2\in\Bbb Z\} \\<br>\end{array}<br>$$</p><blockquote><p> For double and triple integrals, don’t use <code>\int\int</code> or <code>\int\int\int</code>. Instead use the special forms <code>\iint</code> and <code>\iiint</code>.</p></blockquote><p>使用多重积分符号时，不要多次使用 <code>\int</code> 来声明，直接使用 <code>\iint</code> 来表示 <strong>二重积分</strong> ，使用 <code>\iiint</code> 来表示 <strong>三重积分</strong>等。对于无限次积分，可以用 <code>\int \cdots \int</code> 表示。</p><p><strong>例：</strong>：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;array&#125;&#123;cc&#125;</span><br><span class="line">\mathrm&#123;Bad&#125; &amp; \mathrm&#123;Better&#125; \\</span><br><span class="line">\hline \\</span><br><span class="line">\int\int_S f(x)\,dy\,dx &amp; \iint_S f(x)\,dy\,dx \\</span><br><span class="line">\int\int\int_V f(x)\,dz\,dy\,dx &amp; \iiint_V f(x)\,dz\,dy\,dx</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>$$<br>\begin{array}{cc}<br>\mathrm{Bad} &amp; \mathrm{Better} \\<br>\hline \\<br>\int\int_S f(x)\,dy\,dx &amp; \iint_S f(x)\,dy\,dx \\<br>\int\int\int_V f(x)\,dz\,dy\,dx &amp; \iiint_V f(x)\,dz\,dy\,dx<br>\end{array}<br>$$</p><p>无限次积分：</p><blockquote><p> Use <code>\,</code>, to insert a thin space before differentials; without this  will mash them together.</p></blockquote><p>在微分符号前加入 <code>\,</code> 来插入一个小的间隔空隙；没有 <code>\,</code> 符号的话， 将会把不同的微分符号堆在一起。</p><p><strong>例：</strong>：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;array&#125;&#123;cc&#125;</span><br><span class="line">\mathrm&#123;Bad&#125; &amp; \mathrm&#123;Better&#125; \\</span><br><span class="line">\hline \\</span><br><span class="line">\iiint_V f(x)&#123;\rm d&#125;z &#123;\rm d&#125;y &#123;\rm d&#125;x &amp; \iiint_V f(x)\,&#123;\rm d&#125;z\,&#123;\rm d&#125;y\,&#123;\rm d&#125;x</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>$$<br>\begin{array}{cc}<br>\mathrm{Bad} &amp; \mathrm{Better} \\<br>\hline \<br>\iiint_V f(x){\rm d}z {\rm d}y {\rm d}x &amp; \iiint_V f(x)\,{\rm d}z\,{\rm d}y\,{\rm d}x<br>\end{array}<br>$$</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://www.zybuluo.com/codeep/note/163962" target="_blank" rel="noopener">Cmd Markdown 简明语法手册</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在写课堂报告的时候，用Latex会比较笨重，用Word插入公式又太麻烦，用Markdown则恰如其分，因此这篇文章主要涉及如何在Markdown中使用Mathjax，参考LaTeX语法来书写公式。公式可以在Typora里导出成PDF文档。&lt;/p&gt;
    
    </summary>
    
      <category term="Basic" scheme="http://www.cyprestar.com/categories/Basic/"/>
    
    
      <category term="Markdown" scheme="http://www.cyprestar.com/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>如何快速掌握Markdown语法？</title>
    <link href="http://www.cyprestar.com/2016/11/01/How-to-Write-Markdown/"/>
    <id>http://www.cyprestar.com/2016/11/01/How-to-Write-Markdown/</id>
    <published>2016-11-01T03:25:25.000Z</published>
    <updated>2018-08-15T03:40:08.037Z</updated>
    
    <content type="html"><![CDATA[<p>Markdown 是一种轻量级标记语言。<br>它允许人们使用易读易写的纯文本格式编写文档，然后转换成有效的XHTML(或者HTML)文档。<br>这种语言吸收了很多在电子邮件中已有的纯文本标记的特性。<br>掌握Markdown语法的基本语法，只需要十点就够了。</p><a id="more"></a><p>Q: 有哪些网站可以用来写Markdown呢？</p><p>A: <a href="http://www.github.com/" target="_blank" rel="noopener">Github</a>、<a href="http://www.jianshu.com/" target="_blank" rel="noopener">简书</a>都支持Markdown，Github中可以一边写Markdown一边预览。</p><p>Q: 有哪些Markdown编辑器呢？</p><p>A: 近似全能的新兴编辑器<a href="https://code.visualstudio.com/" target="_blank" rel="noopener">Visual Studio Code</a>、MarkdownPad都可以用来写Markdown，你可以用他们来进行练习。</p><p>在<a href="gist.github.com">Gist</a>中，用Github账号登录以后即可建立一个Gist（可以理解为文章），在里面编辑Markdown文档可以直接点击Preview查看效果。</p><p>在Visual Studio Code中新建一个Markdown文档（即新建文档 -&gt; 另存为 文件名.md），在编辑时点击右上角预览按钮可以实时预览效果。</p><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul><li><a href="#一、段落和换行">一、段落和换行</a></li><li><a href="#二、标题">二、标题</a></li><li><a href="#三、列表">三、列表</a></li><li><a href="#四、链接">四、链接</a></li><li><a href="#五、图片">五、图片</a></li><li><a href="#六、粗体和斜体">六、粗体和斜体</a></li><li><a href="#七、代码">七、代码</a></li><li><a href="#八、引用">八、引用</a></li><li><a href="#九、反斜杠（转义字符）">九、反斜杠</a></li><li><a href="#十、分割线">十、分割线</a></li><li><a href="#Tips">Tips</a></li></ul><h2 id="一、段落和换行"><a href="#一、段落和换行" class="headerlink" title="一、段落和换行"></a>一、段落和换行</h2><p>在Markdown里，一个换行不会另起一行，只有两个（及以上）的换行会另起一行。这是为了保证书写格式的整齐。</p><p>每一行的行首不能有空格和缩进。</p><h2 id="二、标题"><a href="#二、标题" class="headerlink" title="二、标题"></a>二、标题</h2><p>用 # 来标记标题，# 越多，标题级别越小。# 后面要有一个空格，表明这个#是标题的意思。</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-section"># Head 1</span></span><br><span class="line"><span class="hljs-section">## Head 2</span></span><br><span class="line"><span class="hljs-section">### Head 3</span></span><br><span class="line"><span class="hljs-section">#### Head 4</span></span><br><span class="line"><span class="hljs-section">##### Head 5</span></span><br></pre></td></tr></table></figure><h1 id="Head-1"><a href="#Head-1" class="headerlink" title="Head 1"></a>Head 1</h1><h2 id="Head-2"><a href="#Head-2" class="headerlink" title="Head 2"></a>Head 2</h2><h3 id="Head-3"><a href="#Head-3" class="headerlink" title="Head 3"></a>Head 3</h3><h4 id="Head-4"><a href="#Head-4" class="headerlink" title="Head 4"></a>Head 4</h4><h5 id="Head-5"><a href="#Head-5" class="headerlink" title="Head 5"></a>Head 5</h5><h2 id="三、列表"><a href="#三、列表" class="headerlink" title="三、列表"></a>三、列表</h2><p>用 * 来标记无序列表的项目，* 后面要有空格，缩进可以调整项目级别。</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-bullet">* </span>Item 1</span><br><span class="line"><span class="hljs-bullet">* </span>Item 2</span><br><span class="line"><span class="hljs-bullet">* </span>Item 3</span><br><span class="line"><span class="hljs-code">* Item 3.1</span></span><br><span class="line"><span class="hljs-code">* Item 3.2</span></span><br></pre></td></tr></table></figure><ul><li>Item 1</li><li>Item 2</li><li>Item 3<ul><li>Item 3.1</li><li>Item 3.2</li></ul></li></ul><p>用 1.、2.、3.（数字后面加一个点）标记有序列表的项目，标号后面要有空格。</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-bullet">1. </span>Item 1</span><br><span class="line"><span class="hljs-bullet">2. </span>Item 2</span><br><span class="line"><span class="hljs-bullet">3. </span>Item 3</span><br><span class="line"><span class="hljs-bullet">4. </span>Item 4</span><br></pre></td></tr></table></figure><ol><li>Item 1</li><li>Item 2</li><li>Item 3</li><li>Item 4</li></ol><h2 id="四、链接"><a href="#四、链接" class="headerlink" title="四、链接"></a>四、链接</h2><p>用方括号和圆括号表示链接。方括号括起 网址的标题或描述， 圆括号括起 网址。<br>就像这样：</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="hljs-string">弹幕派</span>](<span class="hljs-link">www.danmakupie.com</span>)</span><br></pre></td></tr></table></figure><p><a href="www.danmakupie.com">弹幕派</a></p><h2 id="五、图片"><a href="#五、图片" class="headerlink" title="五、图片"></a>五、图片</h2><p>图片和链接比较像，只不过图片要在前面加一个感叹号（!），方括号括起 图片的标题或描述，圆括号括起图片地址。</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="hljs-string">弹幕派Logo</span>](<span class="hljs-link">http://7xr64j.com1.z0.glb.clouddn.com/blog/howtowritemarkdown/danmakupie-logo.png</span>)</span><br></pre></td></tr></table></figure><p><img src="http://7xr64j.com1.z0.glb.clouddn.com/blog/howtowritemarkdown/danmakupie-logo.png" alt="弹幕派Logo"></p><h2 id="六、粗体和斜体"><a href="#六、粗体和斜体" class="headerlink" title="六、粗体和斜体"></a>六、粗体和斜体</h2><p>用<code>**</code>和<code>*</code>分别标记粗体和斜体。</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-strong">**粗体**</span>  <span class="hljs-emphasis">*斜体*</span></span><br></pre></td></tr></table></figure><p><strong>粗体</strong> <em>斜体</em></p><h2 id="七、代码"><a href="#七、代码" class="headerlink" title="七、代码"></a>七、代码</h2><p>代码分为两种，一种是大段文字里掺杂一些代码，用`（键盘左上角的反引号）标记。</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在写C语言之前，要引入<span class="hljs-code">`#include &lt;stdio.h&gt;`</span>才能正常编译。</span><br></pre></td></tr></table></figure><p>在写C语言之前，要引入<code>#include &lt;stdio.h&gt;</code>才能正常编译。</p><p>另外一种是大块代码，用三个`（反引号）标记。</p><p>```</p><p>#include <stdio.h></stdio.h></p><p>int main(void){<br>return 0;<br>}<br>```</p><figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们还可以将代码行都缩进一个Tab，从而将这些行标记为代码（这也就是为什么不要在普通文字前面缩进）。</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Tab]   #include &lt;stdio.h&gt;</span><br><span class="line">[Tab]</span><br><span class="line">[Tab]int main(void)&#123;</span><br><span class="line">[Tab]    return 0;</span><br><span class="line">[Tab]&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="八、引用"><a href="#八、引用" class="headerlink" title="八、引用"></a>八、引用</h2><p>有的时候我们需要标明一段话是引用自其他文章的，我们用&gt;标记。</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-quote">&gt; This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,</span></span><br><span class="line"><span class="hljs-quote">&gt; consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.</span></span><br><span class="line"><span class="hljs-quote">&gt; Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.</span></span><br><span class="line"><span class="hljs-quote">&gt; </span></span><br><span class="line"><span class="hljs-quote">&gt; Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse</span></span><br><span class="line"><span class="hljs-quote">&gt; id sem consectetuer libero luctus adipiscing.</span></span><br></pre></td></tr></table></figure><blockquote><p>This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,<br>consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.<br>Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.</p><p>Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse<br>id sem consectetuer libero luctus adipiscing.</p></blockquote><h2 id="九、反斜杠（转义字符）"><a href="#九、反斜杠（转义字符）" class="headerlink" title="九、反斜杠（转义字符）"></a>九、反斜杠（转义字符）</h2><p>上面可以看到，有很多字符都用来当标记符了。那么如果我们需要输入这些字符怎么办呢？<br>答案就是反斜杠，用反斜杠来转义这些字符。</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\<span class="hljs-emphasis">*literal asterisks\*</span></span><br></pre></td></tr></table></figure><p>*literal asterisks*</p><p>Markdown 支持以下这些符号前面加上反斜杠来帮助插入普通的符号：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">\   反斜线</span><br><span class="line">`   反引号</span><br><span class="line">*   星号</span><br><span class="line">_   底线</span><br><span class="line">&#123;&#125;  花括号</span><br><span class="line">[]  方括号</span><br><span class="line">()  括弧</span><br><span class="line">#   井字号</span><br><span class="line">+   加号</span><br><span class="line">-   减号</span><br><span class="line">.   英文句点</span><br><span class="line">!   惊叹号</span><br></pre></td></tr></table></figure><h2 id="十、分割线"><a href="#十、分割线" class="headerlink" title="十、分割线"></a>十、分割线</h2><p>在一行中用三个以上的星号、减号、底线来建立一个分隔线，行内不能有其他东西。</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-bullet">* </span><span class="hljs-bullet">* *</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-emphasis">***</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-strong">*****</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-bullet">- </span>- -</span><br></pre></td></tr></table></figure><hr><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h2><h3 id="1-如果想要添加一个发送电子邮件的链接该怎么办？"><a href="#1-如果想要添加一个发送电子邮件的链接该怎么办？" class="headerlink" title="1. 如果想要添加一个发送电子邮件的链接该怎么办？"></a>1. 如果想要添加一个发送电子邮件的链接该怎么办？</h3><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="hljs-string">联系我们</span>](<span class="hljs-link">mailto:danmakupie@outlook.com</span>)</span><br></pre></td></tr></table></figure><p><a href="mailto:danmakupie@outlook.com" target="_blank" rel="noopener">联系我们</a></p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="hljs-string">联系我们</span>](<span class="hljs-link">mailto:danmakupie@outlook.com?subject=弹幕派意见反馈</span>)</span><br></pre></td></tr></table></figure><p><a href="mailto:danmakupie@outlook.com?subject=弹幕派意见反馈" target="_blank" rel="noopener">联系我们</a></p><h3 id="2-链接可以跳转到本页面的另一个地方吗？"><a href="#2-链接可以跳转到本页面的另一个地方吗？" class="headerlink" title="2. 链接可以跳转到本页面的另一个地方吗？"></a>2. 链接可以跳转到本页面的另一个地方吗？</h3><p>在Github里是支持跳转到页面里的另一个标题的：<br><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="hljs-string">八、引用</span>](<span class="hljs-link">#八、引用</span>)</span><br></pre></td></tr></table></figure></p><p><a href="#八、引用">八、引用</a></p><p>这样就可以跳转到“八、引用”这个标题了。这可以用来做目录。</p><p>所有用#标记的标题都可以。GitHub对中文的支持不太好。</p><h3 id="3-参考式链接"><a href="#3-参考式链接" class="headerlink" title="3. 参考式链接"></a>3. 参考式链接</h3><p>一些链接可能要在文档里重复多次，每次都要写一遍链接太费事了。因此就有参考式链接。<br>参考式的链接是在链接文字的括号后面再接上另一个方括号，而在第二个方括号里面要填入用以辨识链接的标记：</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This is [<span class="hljs-string">an example</span>][<span class="hljs-symbol">1</span>] reference-style link.</span><br></pre></td></tr></table></figure><p>接着，在文件的任意处，你可以把这个标记的链接内容定义出来：</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="hljs-symbol">1</span>]: <span class="hljs-link">http://www.danmakupie.com "弹幕派"</span></span><br></pre></td></tr></table></figure><p>This is <a href="http://www.danmakupie.com" title="弹幕派" target="_blank" rel="noopener">an example</a> reference-style link.</p><h3 id="4-引用可以嵌套引用吗？"><a href="#4-引用可以嵌套引用吗？" class="headerlink" title="4. 引用可以嵌套引用吗？"></a>4. 引用可以嵌套引用吗？</h3><p>可以，通过多个&gt;可以不断嵌套：</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-quote">&gt; This is the first level of quoting.</span></span><br><span class="line">&gt;</span><br><span class="line"><span class="hljs-quote">&gt; &gt; This is nested blockquote.</span></span><br><span class="line">&gt;</span><br><span class="line"><span class="hljs-quote">&gt; Back to the first level.</span></span><br></pre></td></tr></table></figure><blockquote><p>This is the first level of quoting.</p><blockquote><p>This is nested blockquote.</p></blockquote><p>Back to the first level.</p></blockquote><p>引用里还可以有其他标记：</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-quote">&gt; ## 这是一个标题。</span></span><br><span class="line"><span class="hljs-quote">&gt; </span></span><br><span class="line"><span class="hljs-quote">&gt; 1.   这是第一行列表项。</span></span><br><span class="line"><span class="hljs-quote">&gt; 2.   这是第二行列表项。</span></span><br><span class="line"><span class="hljs-quote">&gt; </span></span><br><span class="line"><span class="hljs-quote">&gt; 给出一些例子代码：</span></span><br><span class="line"><span class="hljs-quote">&gt; </span></span><br><span class="line"><span class="hljs-quote">&gt;     return shell_exec("echo $input | $markdown_script");</span></span><br></pre></td></tr></table></figure><blockquote><h2 id="这是一个标题。"><a href="#这是一个标题。" class="headerlink" title="这是一个标题。"></a>这是一个标题。</h2><ol><li>这是第一行列表项。</li><li>这是第二行列表项。</li></ol><p>给出一些例子代码：</p><pre><code>return shell_exec(&quot;echo $input | $markdown_script&quot;);</code></pre></blockquote><h3 id="5-如何输入上标和下标？"><a href="#5-如何输入上标和下标？" class="headerlink" title="5. 如何输入上标和下标？"></a>5. 如何输入上标和下标？</h3><p>用<code>&lt;sub&gt;</code>和<code>&lt;/sub&gt;</code>包括下标文字：</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">H&lt;sub&gt;2&lt;/sub&gt;O</span><br></pre></td></tr></table></figure><p>H<sub>2</sub>O</p><p>用<code>&lt;sup&gt;</code>和<code>&lt;/sup&gt;</code>包括上标文字：</p><figure class="highlight md hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X&lt;sup&gt;2&lt;/sup&gt;+2x+1 = 0</span><br></pre></td></tr></table></figure><p>X<sup>2</sup>+2x+1 = 0</p><h3 id="6-代码块如何进行语法高亮？"><a href="#6-代码块如何进行语法高亮？" class="headerlink" title="6. 代码块如何进行语法高亮？"></a>6. 代码块如何进行语法高亮？</h3><p>在```之后加上语言的标记，例如：</p><p>``` c 可以标记C语言。</p><p>具体各语言高亮支持请查看<a href="http://highlightjs.readthedocs.io/en/latest/css-classes-reference.html#language-names-and-aliases" target="_blank" rel="noopener">highlight.js - CSS classes reference</a></p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="http://wowubuntu.com/markdown/" target="_blank" rel="noopener">http://wowubuntu.com/markdown/</a></p><h3 id="延伸阅读"><a href="#延伸阅读" class="headerlink" title="延伸阅读"></a>延伸阅读</h3><p><a href="http://itmyhome.com/markdown/index.html" target="_blank" rel="noopener">Learning-Markdown (Markdown 入门参考)</a></p><p>这里有讲怎么用Markdown画表格<del>（虽然我从来没画出来过）</del>。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Markdown 是一种轻量级标记语言。&lt;br&gt;它允许人们使用易读易写的纯文本格式编写文档，然后转换成有效的XHTML(或者HTML)文档。&lt;br&gt;这种语言吸收了很多在电子邮件中已有的纯文本标记的特性。&lt;br&gt;掌握Markdown语法的基本语法，只需要十点就够了。&lt;/p&gt;
    
    </summary>
    
      <category term="Basic" scheme="http://www.cyprestar.com/categories/Basic/"/>
    
    
      <category term="Markdown" scheme="http://www.cyprestar.com/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>浅谈BackgroundWorker的使用</title>
    <link href="http://www.cyprestar.com/2016/08/29/BackgroundWorker/"/>
    <id>http://www.cyprestar.com/2016/08/29/BackgroundWorker/</id>
    <published>2016-08-29T11:06:41.000Z</published>
    <updated>2016-08-29T16:23:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>这是弹幕派开发文档系列的第一篇！在开发<a href="http://www.danmakupie.com" target="_blank" rel="noopener">弹幕派</a>的过程中，通过网上的资料、MSDN学习到了很多WPF和C#的相关知识，在这里一并写出来，希望能够帮助到C#特别是WPF开发者。<br>弹幕派是我们开发的一个桌面弹幕小程序，说它小，但是它的开发周期可不短，在开发过程中学到了很多东西，今天我要说的便是第一个，如何运用后台进程连接网络。<br><a id="more"></a></p><h2 id="浅谈BackgroundWorker在WPF中的使用"><a href="#浅谈BackgroundWorker在WPF中的使用" class="headerlink" title="浅谈BackgroundWorker在WPF中的使用"></a>浅谈BackgroundWorker在WPF中的使用</h2><p>弹幕派在刚开始UI的渲染（即弹幕的产生和刷新）以及弹幕内容的获取都是在一个进程中完成的，这样导致一个问题就在于每当从网络获取数据时就会出现明显卡顿，如果网络失去连接就会导致程序假死无法继续进行。很明显这样是不行的，因此必须要引入多线程，通过后台线程获取数据，再将数据更新到UI中。</p><p>在WPF中，为了保证线程安全，Windows只允许创建UI元素的线程访问这些元素。如果在其他线程中尝试修改UI元素的属性，就会触发<code>STA错误</code>，导致程序崩溃。这样做是为了保证内容渲染的一致性。但是也会导致一个问题——我们无法通过后台线程直接修改UI元素的属性。WPF通过<code>Dispatcher</code>机制解决了这一问题。WPF为UI渲染设置了一个<code>Dispatcher</code>，这个<code>Dispatcher</code>我们可以理解为调度员，它与UI渲染相关的事件排成一个队列，按优先级对其队列中的元素进行排序，并且按序执行，这样可以保证UI在渲染时只执行一个任务，保证UI内容的一致性。如果我们的后台线程需要对界面元素的属性进行修改，可以请求UI线程代替它完成这一操作。那么如何请求UI线程帮忙呢？通过向<code>Dispatcher</code>注册工作项，将想要执行的任务加入队列，这个任务会在某个时间由<code>Dispatcher</code>完成，后台进程无需插手UI渲染。</p><p><img src="https://i-msdn.sec.s-msft.com/dynimg/IC110371.jpeg" alt="Dispatcher队列"></p><p><a href="https://msdn.microsoft.com/zh-cn/library/system.windows.threading.dispatcher.aspx" target="_blank" rel="noopener">Dispatcher类</a>提供两种调用方法，一种是<code>Invoke</code>同步调用，调用方必须等待UI进程完成这一任务才会返回并继续下面的操作；另一种是<code>BeginInvoke</code>异步调用，调用方在调用后会立即返回。<br>在弹幕派原有的代码中对这一部分有所使用。原本弹幕派刷新弹幕是通过每秒钟定时修改所有弹幕TextBlock的Margin属性的值达到移动弹幕的效果，那么在计时器<a href="https://msdn.microsoft.com/zh-cn/library/system.timers.timer.aspx" target="_blank" rel="noopener">Timer</a>的<code>Elapse</code>事件触发的函数中，如果直接修改这些Margin会触发STA错误。因此需要通过<code>BeginInvoke</code>来执行这一操作。</p><figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">delegate</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DispatcherDelegateTimer</span>(<span class="hljs-params"></span>)</span>; <span class="hljs-comment">// 声明委托</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnTimedEvent</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.Dispatcher.BeginInvoke(DispatcherPriority.Normal, <span class="hljs-keyword">new</span> DispatcherDelegateTimer(UpdateUI)); <span class="hljs-comment">//通过BeginInvoke注册</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用后台进程有三种方式，第一种是<a href="https://msdn.microsoft.com/zh-cn/library/system.threading.tasks.task.aspx" target="_blank" rel="noopener">Task</a>，第二种是<a href="https://msdn.microsoft.com/zh-cn/library/system.threading.thread.aspx" target="_blank" rel="noopener">Thread</a>，第三种就是我们今天要介绍的<a href="https://msdn.microsoft.com/zh-cn/library/system.componentmodel.backgroundworker.aspx" target="_blank" rel="noopener">BackgroundWorker</a>了。这三种方法各有千秋，但是<code>BackgroundWorker</code>更适合用于实现后台连接网络下载，因此在弹幕派的弹幕获取、自动更新等地方都主要使用了<code>BackgroundWorker</code>。</p><p>那么如何用<code>BackgroundWorker</code>实现后台连接网络获取数据呢？<br>首先我们需要引入命名空间</p><figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">using</span> System.ComponentModel;</span><br></pre></td></tr></table></figure><p>之后我们需要添加<code>BackgroundWorker</code>组件，这一组件可以从Xaml界面添加——从工具箱中的“组件”选项卡中，添加<code>BackgroundWorker</code>组件；也可以在代码中声明：</p><figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">private</span> BackgroundWorker fetchBW = <span class="hljs-keyword">new</span> BackgroundWorker();</span><br></pre></td></tr></table></figure><p>之后在初始化过程中设置<code>BackgroundWorker</code>的属性，可以在构造函数中，也可以在<code>Loaded</code>函数中。</p><figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fetchBW.WorkerReportsProgress = <span class="hljs-literal">true</span>; <span class="hljs-comment">//是否报告工作进度</span></span><br><span class="line">fetchBW.WorkerSupportsCancellation = <span class="hljs-literal">true</span>; <span class="hljs-comment">//是否允许异步取消工作</span></span><br><span class="line">fetchBW.DoWork += <span class="hljs-keyword">new</span> DoWorkEventHandler(FetchBW_DoWork); <span class="hljs-comment">//这里声明要做的工作</span></span><br><span class="line">fetchBW.ProgressChanged += <span class="hljs-keyword">new</span> ProgressChangedEventHandler(FetchBW_ProgressChanged); <span class="hljs-comment">//当工作进度改变时更新界面</span></span><br><span class="line">fetchBW.RunWorkerCompleted += <span class="hljs-keyword">new</span> RunWorkerCompletedEventHandler(FetchBW_RunWorkerCompleted); <span class="hljs-comment">//当工作完成时处理工作结果</span></span><br></pre></td></tr></table></figure><p>首先要设置是否报告工作进度，如果<code>WorkerReportsProgress</code>为true，则可以在<code>ProgressChanged</code>事件的函数中处理进度条等信息。当然Progress的数值要自行在<code>DoWork</code>函数中利用<code>ReportProgress</code>设置数值的变化（例如获取已经下载的进度并更新进度条）。</p><figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">backgroundWorker1_DoWork</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, DoWorkEventArgs e</span>)</span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    BackgroundWorker worker = sender <span class="hljs-keyword">as</span> BackgroundWorker;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (worker.CancellationPending == <span class="hljs-literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            e.Cancel = <span class="hljs-literal">true</span>;</span><br><span class="line">            <span class="hljs-keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-comment">// Perform a time consuming operation and report progress.</span></span><br><span class="line">            System.Threading.Thread.Sleep(<span class="hljs-number">500</span>);</span><br><span class="line">            worker.ReportProgress(i * <span class="hljs-number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">backgroundWorker1_ProgressChanged</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, ProgressChangedEventArgs e</span>)</span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    resultLabel.Text = (e.ProgressPercentage.ToString() + <span class="hljs-string">"%"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果允许异步取消（<code>WorkerSupportsCancellation = false</code>），则通过<code>CancelAsync</code>可以取消工作。此时<code>CancellationPending = true</code>。<br>之后再绑定<code>DoWork</code>、<code>ProgressChanged</code>、<code>RunWorkerCompleted</code>事件。<code>DoWork</code>里写明主要功能，同时需要回报进度和处理取消事件。<code>ProgressChanged</code>里根据进度处理事件（修改进度条等），<code>RunWorkerCompleted</code>事件处理<code>DoWork</code>的结果。</p><p>那么如何在<code>RunWorkerCompleted</code>中获取<code>DoWork</code>的结果呢？</p><figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">FetchBW_DoWork</span>(<span class="hljs-params">Object sender, DoWorkEventArgs e</span>)</span> &#123;</span><br><span class="line">    BackgroundWorker backgroundWorker = sender <span class="hljs-keyword">as</span> BackgroundWorker; <span class="hljs-comment">//sender即源BackgroundWorker</span></span><br><span class="line">        </span><br><span class="line">    <span class="hljs-comment">//......</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 将获得的结果进行封装，然后将解析结果保存至e.Result中供RunWorkerCompleted使用</span></span><br><span class="line">    fetchedData result = <span class="hljs-keyword">new</span> fetchedData(num, contentList);</span><br><span class="line">    e.Result = result;</span><br><span class="line">    backgroundWorker.ReportProgress(<span class="hljs-number">100</span>); <span class="hljs-comment">// 当Dowork完成时直接将进度设为100%，触发RunWorkerCompleted事件</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">FetchBW_ProgressChanged</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, ProgressChangedEventArgs e</span>)</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">FetchBW_RunWorkerCompleted</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, RunWorkerCompletedEventArgs e</span>)</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (e.Cancelled == <span class="hljs-literal">false</span> &amp;&amp; e.Error == <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">        fetchedData result = e.Result <span class="hljs-keyword">as</span> fetchedData;</span><br><span class="line">        danmuStorage.AddRange(result.contentList);</span><br><span class="line">        result.contentList.Clear();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">        Debug.WriteLine(<span class="hljs-string">"获取时出现错误"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    bwTimer.Stop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>将结果保存至<code>DoWork</code>的<code>e.Result</code>中，之后可以在<code>RunWorkerCompleted</code>的<code>e.Result</code>中获取到结果。处理结果时要处理Cancelled（取消事件）和Error（错误事件）。<br>这里要注意的是，对于网络访问等操作来说，很有可能会出现网络连接中断导致超时，因此这个时候需要我们设置一个定时器，在开始处理事件前启动定时器，然后在定时器超时时调用<code>CancelAsync</code>即可。</p><p><code>BackgroundWorker</code>不仅可以在WPF中调用，在WinForm中也可以。<code>BackgroundWorker</code>最适合的场景便是后台下载，通过<code>DoWork</code>、<code>ReportProgress</code>和<code>RunWorkerCompleted</code>三者分开，可以明确地划分执行工作、更新界面、处理结果三个部分，与定时器<code>Timer</code>和按钮<code>Button</code>结合使用还可以保证程序不会由于网络连接中断等原因一直卡住。</p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="http://www.cnblogs.com/linlf03/archive/2011/09/01/2043139.html" target="_blank" rel="noopener">wpf 多线程</a></p><p><a href="https://msdn.microsoft.com/zh-cn/library/ms741870.aspx" target="_blank" rel="noopener">线程处理模型</a></p><p><a href="https://msdn.microsoft.com/zh-cn/library/cc221403.aspx" target="_blank" rel="noopener">如何：使用后台辅助线程</a></p><p><a href="https://msdn.microsoft.com/zh-cn/library/ms229675.aspx" target="_blank" rel="noopener">如何：在后台下载文件</a></p><p><a href="https://msdn.microsoft.com/zh-cn/library/hybbz6ke.aspx" target="_blank" rel="noopener">如何：在后台运行操作</a></p><p><a href="https://msdn.microsoft.com/zh-cn/library/system.componentmodel.backgroundworker.aspx" target="_blank" rel="noopener">BackgroundWorker</a></p><p><a href="https://msdn.microsoft.com/zh-cn/library/system.windows.threading.dispatcher.aspx" target="_blank" rel="noopener">Dispatcher类</a></p><p><a href="https://msdn.microsoft.com/zh-cn/library/ms173171.aspx" target="_blank" rel="noopener">委托 delegate</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这是弹幕派开发文档系列的第一篇！在开发&lt;a href=&quot;http://www.danmakupie.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;弹幕派&lt;/a&gt;的过程中，通过网上的资料、MSDN学习到了很多WPF和C#的相关知识，在这里一并写出来，希望能够帮助到C#特别是WPF开发者。&lt;br&gt;弹幕派是我们开发的一个桌面弹幕小程序，说它小，但是它的开发周期可不短，在开发过程中学到了很多东西，今天我要说的便是第一个，如何运用后台进程连接网络。&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="DanmakuPie" scheme="http://www.cyprestar.com/categories/DanmakuPie/"/>
    
    
      <category term="WPF" scheme="http://www.cyprestar.com/tags/WPF/"/>
    
  </entry>
  
  <entry>
    <title>用编程展现绘画之美</title>
    <link href="http://www.cyprestar.com/2016/04/30/BoP/"/>
    <id>http://www.cyprestar.com/2016/04/30/BoP/</id>
    <published>2016-04-30T15:59:41.000Z</published>
    <updated>2018-08-15T03:41:42.889Z</updated>
    
    <content type="html"><![CDATA[<p>一个想法——通过Coding来画画。</p><p>这篇文章用于参加2016编程之美设计赛。</p><a id="more"></a><h2 id="用编程展现绘画之美"><a href="#用编程展现绘画之美" class="headerlink" title="用编程展现绘画之美"></a>用编程展现绘画之美</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>我们都知道，编程可以帮助我们更好地去探索动听的旋律：</p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com//bop2016/pic1.jpg" alt="用音乐编辑软件来合成动听的旋律"></p><p>我们也知道，编程可以帮助我们更好地吟诗作对，探索语言的魅力：</p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com//bop2016/pic2.png" alt="微软亚洲研究院的“律诗绝句”"></p><p>那么，编程可以帮助我们更好地去一览色彩的神奇吗？</p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com//bop2016/pic3.jpg" alt="星空-达芬奇"></p><p>不妨和我一起试试，用Xaml语言来作一幅画吧。</p><h3 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h3><p>首先，打开Visual Studio 2020，然后选择<code>新建项目</code>，在“新建项目”的对话框中选择“绘画”，在这里我们把作品命名为 <em>Starry Night</em></p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com//bop2016/pic4.png" alt="新建绘画"></p><p>在绘画之前，我们要准备好绘画用的材料以及想好自己想画的内容，跟着向导我们可以设定画的基本属性：</p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com//bop2016/pic5.png" alt="初始化我们的画作"></p><p>跟着向导完成初始化操作以后，我们可以看到接下来让我们挥洒灵感的地方：</p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com//bop2016/pic6.png" alt="绘画工作区"></p><p>而作品的标题、风格等信息已经定义好。</p><p>当然我们可以通过编写Xaml来绘画————例如，我们将画布涂上蓝色，再将整幅画按照黄金分割比例进行分隔：</p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com//bop2016/pic8.png" alt="用Xaml来绘画"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一个想法——通过Coding来画画。&lt;/p&gt;
&lt;p&gt;这篇文章用于参加2016编程之美设计赛。&lt;/p&gt;
    
    </summary>
    
      <category term="Creative" scheme="http://www.cyprestar.com/categories/Creative/"/>
    
    
      <category term="BoP2016" scheme="http://www.cyprestar.com/tags/BoP2016/"/>
    
  </entry>
  
  <entry>
    <title>用Hexo搭建一个GitHub个人Blog</title>
    <link href="http://www.cyprestar.com/2016/02/23/Build-a-Github-Blog-with-Hexo/"/>
    <id>http://www.cyprestar.com/2016/02/23/Build-a-Github-Blog-with-Hexo/</id>
    <published>2016-02-23T08:46:29.000Z</published>
    <updated>2019-02-06T20:56:55.194Z</updated>
    
    <content type="html"><![CDATA[<p>不知道有没有人像我一样，想要建立个人主页，可是对JaveScript和PHP都不了解。不过现在好了，基于开源的Hexo，只需1小时，即可在GitHub搭建一个简单又美观的个人主页，并在上面发表你的第一篇文章。Here we go.<br><a id="more"></a></p><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul><li><a href="#准备">准备</a></li><li><a href="#配置Git">配置Git</a></li><li><a href="#安装Hexo">安装Hexo</a></li><li><a href="#部署Hexo">部署Hexo</a></li><li><a href="#下载主题">下载主题</a></li><li><a href="#个性化你的博客">个性化你的博客</a></li><li><a href="#部署你的Blog">部署你的Blog</a></li><li><a href="#写文章">写文章</a></li><li><a href="#更多配置">更多配置</a><ul><li><a href="#添加站长统计和SiteMap">添加站长统计和SiteMap</a></li><li><a href="#支持数学公式">支持数学公式</a></li><li><a href="#添加RSS订阅">添加RSS订阅</a></li><li><a href="#节点分流">节点分流</a></li></ul></li></ul><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ul><li><a href="http://nodejs.org/" target="_blank" rel="noopener">Node.js</a></li><li><a href="http://git-scm.com/" target="_blank" rel="noopener">Git</a></li></ul><h4 id="选装"><a href="#选装" class="headerlink" title="选装"></a>选装</h4><ul><li><a href="http://markdownpad.com/" target="_blank" rel="noopener">Markdown Pad 2</a> - Markdown编辑器</li><li><a href="https://code.visualstudio.com/" target="_blank" rel="noopener">Visual Studio Code</a> - Markdown编辑器</li></ul><h2 id="配置Git"><a href="#配置Git" class="headerlink" title="配置Git"></a>配置Git</h2><p>首先在GitHub上<a href="https://github.com/signup/free" target="_blank" rel="noopener">注册</a>免费账号。接着在账户界面选择<code>+ New repository</code>，在<code>Repository Name</code>中填入<code>用户名.github.io</code>，选择<code>Public</code>，点击<code>Create Respository</code>创建一个目录。这个目录就是你的网站的存储空间。</p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com/1.png" alt="创建站点的存储空间"></p><p>接下来打开Git Bash，在Git Bash中输入</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/. ssh</span><br></pre></td></tr></table></figure><p>以检查本机的ssh密钥。如果提示：’No such file or directory 说明你是第一次使用Git。</p><p>生成新的SSH Key：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;邮件地址@youremail.com&quot;</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):&lt;此处直接回车&gt;</span><br></pre></td></tr></table></figure><p>这里邮箱地址要填入注册邮箱地址。</p><p>然后设置密码：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty for no passphrase):&lt;输入加密串&gt;</span><br><span class="line">Enter same passphrase again:&lt;再次输入加密串&gt;</span><br></pre></td></tr></table></figure><p>在回车中会提示你输入一个密码，这个密码会在你提交项目时使用，如果为空的话提交项目时则不用输入。这个设置是防止别人往你的项目里提交内容。注意：输入密码的时候没有*字样的，你直接输入就可以了。</p><p>最后看到这样的界面，就成功设置SSH Key了：</p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com/2.png" alt="配置成功"></p><p>在本机设置SSH Key后，需要添加SSH Key到GitHub上，为之后的从本地向GitHub上提交网站做准备。</p><ol><li>用文本编辑器打开C:\Users\用户名.ssh\id_rsa.pub，里面是刚才生成的密钥。</li><li>登录GitHub，在右上角的头像选择Settings -&gt; SSH Key -&gt; New SSH Key，然后将文件中的内容拷贝至<code>Key</code>中即可。<code>Title</code>为这个SSH Key的名称，可以自定。</li></ol><p><img src="http://7xr64j.com1.z0.glb.clouddn.com/3.png" alt="SSH Keys"></p><p>测试设置结果：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>如果得到如下反馈：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host &apos;github.com (207.97.227.239)&apos; can&apos;t be established.</span><br><span class="line">RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.</span><br><span class="line">Are you sure you want to continue connecting (yes/no)?</span><br></pre></td></tr></table></figure><p>此时输入<code>yes</code>即可。然后会看到：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi thesharing! You&apos;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure><p>说明SSH Key已经设置成功，这台设备的Git Bash已经可以访问你的GitHub了。</p><p>接下来需要设置登录信息：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;你的用户名&quot;</span><br><span class="line">$ git config --global user.email  &quot;你的注册邮箱&quot;</span><br></pre></td></tr></table></figure><p>到这一步，Git Bash就配置完毕了。</p><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p><a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 是一个快速、简洁且高效的博客框架。在安装完以上的软件以后，在命令提示行中使用<code>npm</code>命令即可完成安装。</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>可能会有网络错误，可以重新执行命令安装。</p><p>接下来执行</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p>以安装所需的依赖包。</p><h2 id="部署Hexo"><a href="#部署Hexo" class="headerlink" title="部署Hexo"></a>部署Hexo</h2><p>指定一个文件夹作为你的博客存放的文件夹，然后从此文件夹打开命令行，开始部署：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p>等待一段时间，Hexo会在这个文件夹下建立工作目录。现在本地博客已经建立完毕，执行以下命令：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>然后在浏览器中访问<code>localhost:4000</code>即可看到初始化的博客内容。</p><h2 id="下载主题"><a href="#下载主题" class="headerlink" title="下载主题"></a>下载主题</h2><p>在Hexo的官方网站<a href="https://hexo.io/themes/" target="_blank" rel="noopener">Themes|Hexo </a>上有一些主题可供使用，在Hexo的GitHub主页<a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="noopener">Themes - hexojs/hexo</a>上提供了更多的主题链接可供下载。你可以选择用Git将主题<code>Clone</code>到本地，以获得主题的实时更新，也可以通过<code>Download Zip</code>将主题下载到本地的hexo文件夹/theme/使用。针对不同主题会有不同的设置项，一般主题的GitHub主页会提供Wiki来帮助设置主页。本次以PPOffice开发的<a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>为例进行主题方面的设置。</p><h2 id="个性化你的博客"><a href="#个性化你的博客" class="headerlink" title="个性化你的博客"></a>个性化你的博客</h2><p>首先要配置你的站点信息，用Visual Studio Code等文本编辑器（不推荐使用记事本，存在一些格式上的问题）打开<code>hexo/_config.yml</code>开始配置。</p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Site 站点信息设置</span></span><br><span class="line"><span class="hljs-attr">title:</span> <span class="hljs-string">Zhilong's</span> <span class="hljs-string">Blog</span> <span class="hljs-comment"># 站点标题</span></span><br><span class="line"><span class="hljs-attr">subtitle:</span> <span class="hljs-string">Have</span> <span class="hljs-string">a</span> <span class="hljs-string">try</span> <span class="hljs-comment"># 副标题</span></span><br><span class="line"><span class="hljs-attr">description:</span> <span class="hljs-string">Zhilong's</span> <span class="hljs-string">personal</span> <span class="hljs-string">blog</span> <span class="hljs-string">on</span> <span class="hljs-string">github</span> <span class="hljs-comment"># 给搜索引擎看的，对站点的描述，可以自定义</span></span><br><span class="line"><span class="hljs-attr">author:</span> <span class="hljs-string">Thesharing</span> <span class="hljs-comment"># 网站作者：在站点下方可以看到</span></span><br><span class="line"><span class="hljs-attr">language:</span> <span class="hljs-string">zh-CN</span> <span class="hljs-comment"># 语言：简体中文</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># URL</span></span><br><span class="line"><span class="hljs-comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line"><span class="hljs-attr">url:</span> <span class="hljs-attr">http://thesharing.github.io/</span> <span class="hljs-comment">#站点地址</span></span><br><span class="line"><span class="hljs-attr">root:</span> <span class="hljs-string">/</span> <span class="hljs-comment">#站点的根目录</span></span><br><span class="line"><span class="hljs-attr">permalink:</span> <span class="hljs-string">:year/:month/:day/:title/</span> <span class="hljs-comment">#文章默认存放位置的格式，这里表示目录结构为：year/month/day/title.md</span></span><br><span class="line"><span class="hljs-comment"># Directory</span></span><br><span class="line"><span class="hljs-attr">source_dir:</span> <span class="hljs-string">source</span></span><br><span class="line"><span class="hljs-attr">public_dir:</span> <span class="hljs-string">public</span></span><br><span class="line"><span class="hljs-attr">tag_dir:</span> <span class="hljs-string">tags</span></span><br><span class="line"><span class="hljs-attr">archive_dir:</span> <span class="hljs-string">archives</span></span><br><span class="line"><span class="hljs-attr">category_dir:</span> <span class="hljs-string">categories</span></span><br><span class="line"><span class="hljs-attr">code_dir:</span> <span class="hljs-string">downloads/code</span></span><br><span class="line"><span class="hljs-attr">i18n_dir:</span> <span class="hljs-string">:lang</span></span><br><span class="line"><span class="hljs-attr">skip_render:</span> <span class="hljs-string">[readme.md,</span> <span class="hljs-string">"*.html"</span><span class="hljs-string">,</span> <span class="hljs-string">"*.htm"</span><span class="hljs-string">]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Writing 文章布局、写作格式的定义</span></span><br><span class="line"><span class="hljs-attr">new_post_name:</span> <span class="hljs-string">:title.md</span> <span class="hljs-comment"># 新文章的文章名，这里是用文章标题作为文件名</span></span><br><span class="line"><span class="hljs-attr">default_layout:</span> <span class="hljs-string">post</span> <span class="hljs-comment"># 默认的布局，详情查看https://hexo.io/zh-cn/docs/writing.html以获得更多信息</span></span><br><span class="line"><span class="hljs-attr">auto_spacing:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 是否在中文字符和英文字符之间自动添加空格</span></span><br><span class="line"><span class="hljs-attr">titlecase:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># 是否将标题大写</span></span><br><span class="line"><span class="hljs-attr">external_link:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># Open external links in new tab</span></span><br><span class="line"><span class="hljs-attr">filename_case:</span> <span class="hljs-number">0</span></span><br><span class="line"><span class="hljs-attr">render_drafts:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-attr">post_asset_folder:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-attr">relative_link:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-attr">future:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">highlight:</span> <span class="hljs-comment">#语法高亮</span></span><br><span class="line"><span class="hljs-attr">  enable:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">  backtick_code_block:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">  line_number:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">  tab_replace:</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 目录和标签</span></span><br><span class="line"><span class="hljs-attr">default_category:</span> <span class="hljs-string">uncategorized</span> <span class="hljs-comment"># 默认目录</span></span><br><span class="line"><span class="hljs-attr">category_map:</span></span><br><span class="line"><span class="hljs-attr">tag_map:</span></span><br><span class="line"><span class="hljs-attr">sitemap:</span></span><br><span class="line"><span class="hljs-attr">  path:</span> <span class="hljs-string">sitemap.xml</span></span><br><span class="line"><span class="hljs-attr">baidusitemap:</span></span><br><span class="line"><span class="hljs-attr">  path:</span> <span class="hljs-string">baidusitemap.xml</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Archives 默认值为2，这里都修改为1，相应页面就只会列出标题，而非全文</span></span><br><span class="line"><span class="hljs-comment">## 2: Enable pagination</span></span><br><span class="line"><span class="hljs-comment">## 1: Disable pagination</span></span><br><span class="line"><span class="hljs-comment">## 0: Fully Disable</span></span><br><span class="line"><span class="hljs-attr">archive:</span> <span class="hljs-number">1</span></span><br><span class="line"><span class="hljs-attr">category:</span> <span class="hljs-number">1</span></span><br><span class="line"><span class="hljs-attr">tag:</span> <span class="hljs-number">1</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Server 本地服务器信息</span></span><br><span class="line"><span class="hljs-comment">## Hexo uses Connect as a server</span></span><br><span class="line"><span class="hljs-comment">## You can customize the logger format as defined in</span></span><br><span class="line"><span class="hljs-comment">## http://www.senchalabs.org/connect/logger.html</span></span><br><span class="line"><span class="hljs-attr">port:</span> <span class="hljs-number">4000</span></span><br><span class="line"><span class="hljs-attr">logger:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-attr">logger_format:</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Date / Time format 日期、时间格式</span></span><br><span class="line"><span class="hljs-comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="hljs-comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="hljs-comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="hljs-attr">date_format:</span> <span class="hljs-string">YYYY-MM-DD</span></span><br><span class="line"><span class="hljs-attr">time_format:</span> <span class="hljs-attr">HH:mm:ss</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Pagination 每页显示文章数，可以自定义</span></span><br><span class="line"><span class="hljs-comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="hljs-attr">per_page:</span> <span class="hljs-number">10</span></span><br><span class="line"><span class="hljs-attr">pagination_dir:</span> <span class="hljs-string">page</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Extensions 配置站点所用主题和插件</span></span><br><span class="line"><span class="hljs-comment">## Plugins: https://github.com/tommy351/hexo/wiki/Plugins</span></span><br><span class="line"><span class="hljs-comment">## Themes: https://github.com/tommy351/hexo/wiki/Themes</span></span><br><span class="line"><span class="hljs-attr">theme:</span> <span class="hljs-string">icarus</span> <span class="hljs-comment"># 主题</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Deployment 站点部署到github的设置</span></span><br><span class="line"><span class="hljs-comment">## 官方文档：https://hexo.io/zh-cn/docs/deployment.html</span></span><br><span class="line"><span class="hljs-attr">deploy:</span></span><br><span class="line"><span class="hljs-attr">  type:</span> <span class="hljs-string">git</span></span><br><span class="line"><span class="hljs-attr">  repository:</span> <span class="hljs-attr">https://github.com/thesharing/thesharing.github.io.git</span> <span class="hljs-comment"># Repository地址</span></span><br><span class="line"><span class="hljs-attr">  branch:</span> <span class="hljs-string">master</span></span><br></pre></td></tr></table></figure><p>可以将其直接复制入你的<code>_config.yml</code>文件中使用。下面解释各项如何修改。</p><h3 id="Site"><a href="#Site" class="headerlink" title="Site"></a>Site</h3><p>按照说明修改即可。</p><h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><p>将url改为你的博客首地址，可以到<a href="https://www.godaddy.com/" target="_blank" rel="noopener">GoDaddy</a>上购买域名进行绑定，那么这里就应该改成你的域名而非GitHub.io地址。</p><h3 id="Writing-Pagination"><a href="#Writing-Pagination" class="headerlink" title="Writing - Pagination"></a>Writing - Pagination</h3><p>均不必修改，如自定义请参考官方Doc进行修改。</p><h3 id="Theme"><a href="#Theme" class="headerlink" title="Theme"></a>Theme</h3><p>将Theme修改为你下载的主题的主题名，要注意，<code>theme</code>文件夹下的主题文件夹也要对应名称。</p><h3 id="Deploy"><a href="#Deploy" class="headerlink" title="Deploy"></a>Deploy</h3><p>将<code>repository</code>改为<code>https://github.com/你的用户名/你的用户名.github.io.git</code>，<code>branch</code>不变。</p><p>此时第一个配置文件设置结束，我们打开主题的配置文件来配置主题样式。这里以icarus为例，打开<code>hexo/themes/icarus/_config.yml：</code></p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Version of the Icarus theme that is currently used</span></span><br><span class="line"><span class="hljs-attr">version:</span> <span class="hljs-number">2.3</span><span class="hljs-number">.0</span></span><br><span class="line"><span class="hljs-comment"># Path or URL to the website's icon</span></span><br><span class="line"><span class="hljs-attr">favicon:</span> <span class="hljs-string">/images/favicon.png</span></span><br><span class="line"><span class="hljs-comment"># Path or URL to RSS atom.xml</span></span><br><span class="line"><span class="hljs-attr">rss:</span> <span class="hljs-string">rss.xml</span></span><br><span class="line"><span class="hljs-comment"># Path or URL to the website's logo to be shown on the left of the navigation bar or footer</span></span><br><span class="line"><span class="hljs-attr">logo:</span> <span class="hljs-string">/images/logo.png</span></span><br><span class="line"><span class="hljs-comment"># Open Graph metadata</span></span><br><span class="line"><span class="hljs-comment"># https://hexo.io/docs/helpers.html#open-graph</span></span><br><span class="line"><span class="hljs-attr">open_graph:</span></span><br><span class="line">    <span class="hljs-comment"># Facebook App ID</span></span><br><span class="line"><span class="hljs-attr">    fb_app_id:</span> </span><br><span class="line">    <span class="hljs-comment"># Facebook Admin ID</span></span><br><span class="line"><span class="hljs-attr">    fb_admins:</span> </span><br><span class="line">    <span class="hljs-comment"># Twitter ID</span></span><br><span class="line"><span class="hljs-attr">    twitter_id:</span> </span><br><span class="line">    <span class="hljs-comment"># Twitter site</span></span><br><span class="line"><span class="hljs-attr">    twitter_site:</span> </span><br><span class="line">    <span class="hljs-comment"># Google+ profile link</span></span><br><span class="line"><span class="hljs-attr">    google_plus:</span> </span><br><span class="line"><span class="hljs-comment"># Navigation bar link settings</span></span><br><span class="line"><span class="hljs-attr">navbar:</span></span><br><span class="line">    <span class="hljs-comment"># Navigation bar menu links</span></span><br><span class="line"><span class="hljs-attr">    menu:</span></span><br><span class="line">        <span class="hljs-string">首页:</span> <span class="hljs-string">/</span></span><br><span class="line">        <span class="hljs-string">归档:</span> <span class="hljs-string">/archives</span></span><br><span class="line">        <span class="hljs-string">关于:</span> <span class="hljs-string">/about</span></span><br><span class="line">    <span class="hljs-comment"># Navigation bar links to be shown on the right</span></span><br><span class="line"><span class="hljs-attr">    links:</span></span><br><span class="line"><span class="hljs-attr">        GitHub:</span></span><br><span class="line"><span class="hljs-attr">            icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-github</span></span><br><span class="line"><span class="hljs-attr">            url:</span> <span class="hljs-string">'http://github.com/thesharing/'</span></span><br><span class="line"><span class="hljs-comment"># Footer section link settings</span></span><br><span class="line"><span class="hljs-attr">footer:</span></span><br><span class="line">    <span class="hljs-comment"># Links to be shown on the right of the footer section</span></span><br><span class="line"><span class="hljs-attr">    links:</span></span><br><span class="line">        <span class="hljs-string">Creative</span> <span class="hljs-attr">Commons:</span></span><br><span class="line"><span class="hljs-attr">            icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-creative-commons</span></span><br><span class="line"><span class="hljs-attr">            url:</span> <span class="hljs-string">'https://creativecommons.org/'</span></span><br><span class="line">        <span class="hljs-string">Attribution</span> <span class="hljs-number">4.0</span> <span class="hljs-attr">International:</span></span><br><span class="line"><span class="hljs-attr">            icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-creative-commons-by</span></span><br><span class="line"><span class="hljs-attr">            url:</span> <span class="hljs-string">'https://creativecommons.org/licenses/by/4.0/'</span></span><br><span class="line"><span class="hljs-comment"># Article display settings</span></span><br><span class="line"><span class="hljs-attr">article:</span></span><br><span class="line">    <span class="hljs-comment"># Code highlight theme</span></span><br><span class="line">    <span class="hljs-comment"># https://github.com/highlightjs/highlight.js/tree/master/src/styles</span></span><br><span class="line"><span class="hljs-attr">    highlight:</span> <span class="hljs-string">pojoaque</span></span><br><span class="line">    <span class="hljs-comment"># Whether to show article thumbnail images</span></span><br><span class="line"><span class="hljs-attr">    thumbnail:</span> <span class="hljs-literal">false</span></span><br><span class="line">    <span class="hljs-comment"># Whether to show estimate article reading time</span></span><br><span class="line"><span class="hljs-attr">    readtime:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-comment"># Search plugin settings</span></span><br><span class="line"><span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/categories/Configuration/Search-Plugins</span></span><br><span class="line"><span class="hljs-attr">search:</span></span><br><span class="line">    <span class="hljs-comment"># Name of the search plugin</span></span><br><span class="line"><span class="hljs-attr">    type:</span> <span class="hljs-string">insight</span></span><br><span class="line"><span class="hljs-comment"># Comment plugin settings</span></span><br><span class="line"><span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/categories/Configuration/Comment-Plugins</span></span><br><span class="line"><span class="hljs-attr">comment:</span></span><br><span class="line">    <span class="hljs-comment"># Name of the comment plugin</span></span><br><span class="line"><span class="hljs-attr">    type:</span> <span class="hljs-string">disqus</span></span><br><span class="line"><span class="hljs-attr">    shortname:</span> <span class="hljs-string">thesharing</span></span><br><span class="line"><span class="hljs-comment"># Donation entries</span></span><br><span class="line"><span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/categories/Donation/</span></span><br><span class="line"><span class="hljs-attr">donate:</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Donation entry name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">alipay</span></span><br><span class="line">        <span class="hljs-comment"># Qrcode image URL</span></span><br><span class="line"><span class="hljs-attr">        qrcode:</span> <span class="hljs-string">'/images/alipay.jpg'</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Donation entry name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">wechat</span></span><br><span class="line">        <span class="hljs-comment"># Qrcode image URL</span></span><br><span class="line"><span class="hljs-attr">        qrcode:</span> <span class="hljs-string">'/images/wechat.jpg'</span></span><br><span class="line">    <span class="hljs-comment"># -</span></span><br><span class="line">    <span class="hljs-comment">#     # Donation entry name</span></span><br><span class="line">    <span class="hljs-comment">#     type: paypal</span></span><br><span class="line">    <span class="hljs-comment">#     # Paypal business ID or email address</span></span><br><span class="line">    <span class="hljs-comment">#     business: ''</span></span><br><span class="line">    <span class="hljs-comment">#     # Currency code</span></span><br><span class="line">    <span class="hljs-comment">#     currency_code: USD</span></span><br><span class="line">    <span class="hljs-comment"># -</span></span><br><span class="line">    <span class="hljs-comment">#     # Donation entry name</span></span><br><span class="line">    <span class="hljs-comment">#     type: patreon</span></span><br><span class="line">    <span class="hljs-comment">#     # URL to the Patreon page</span></span><br><span class="line">    <span class="hljs-comment">#     url: ''</span></span><br><span class="line"><span class="hljs-comment"># Share plugin settings</span></span><br><span class="line"><span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/categories/Configuration/Share-Plugins</span></span><br><span class="line"><span class="hljs-attr">share:</span></span><br><span class="line">    <span class="hljs-comment"># Share plugin name</span></span><br><span class="line"><span class="hljs-attr">    type:</span> <span class="hljs-string">sharejs</span></span><br><span class="line"><span class="hljs-comment"># Sidebar settings.</span></span><br><span class="line"><span class="hljs-comment"># Please be noted that a sidebar is only visible when it has at least one widget</span></span><br><span class="line"><span class="hljs-attr">sidebar:</span></span><br><span class="line">    <span class="hljs-comment"># left sidebar settings</span></span><br><span class="line"><span class="hljs-attr">    left:</span></span><br><span class="line">        <span class="hljs-comment"># Whether the left sidebar is sticky when page scrolls</span></span><br><span class="line">        <span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/Configuration/Theme/make-a-sidebar-sticky-when-page-scrolls/</span></span><br><span class="line"><span class="hljs-attr">        sticky:</span> <span class="hljs-literal">false</span></span><br><span class="line">    <span class="hljs-comment"># right sidebar settings</span></span><br><span class="line"><span class="hljs-attr">    right:</span></span><br><span class="line">        <span class="hljs-comment"># Whether the right sidebar is sticky when page scrolls</span></span><br><span class="line">        <span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/Configuration/Theme/make-a-sidebar-sticky-when-page-scrolls/</span></span><br><span class="line"><span class="hljs-attr">        sticky:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-comment"># Sidebar widget settings</span></span><br><span class="line"><span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/categories/Widgets/</span></span><br><span class="line"><span class="hljs-attr">widgets:</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">profile</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">left</span></span><br><span class="line">        <span class="hljs-comment"># Author name to be shown in the profile widget</span></span><br><span class="line"><span class="hljs-attr">        author:</span> <span class="hljs-string">Your</span> <span class="hljs-string">Name</span></span><br><span class="line">        <span class="hljs-comment"># Title of the author to be shown in the profile widget</span></span><br><span class="line"><span class="hljs-attr">        author_title:</span> <span class="hljs-string">Your</span> <span class="hljs-string">Title</span></span><br><span class="line">        <span class="hljs-comment"># Author's current location to be shown in the profile widget</span></span><br><span class="line"><span class="hljs-attr">        location:</span> <span class="hljs-string">Your</span> <span class="hljs-string">Location</span></span><br><span class="line">        <span class="hljs-comment"># Path or URL to the avatar to be shown in the profile widget</span></span><br><span class="line"><span class="hljs-attr">        avatar:</span> <span class="hljs-string">/images/avatar.png</span></span><br><span class="line">        <span class="hljs-comment"># Email address for the Gravatar to be shown in the profile widget</span></span><br><span class="line"><span class="hljs-attr">        gravatar:</span> </span><br><span class="line">        <span class="hljs-comment"># Whether to show avatar image rounded or square</span></span><br><span class="line"><span class="hljs-attr">        avatar_rounded:</span> <span class="hljs-literal">true</span></span><br><span class="line">        <span class="hljs-comment"># Path or URL for the follow button</span></span><br><span class="line"><span class="hljs-attr">        follow_link:</span> <span class="hljs-string">'http://github.com/thesharing/'</span></span><br><span class="line">        <span class="hljs-comment"># Links to be shown on the bottom of the profile widget</span></span><br><span class="line"><span class="hljs-attr">        social_links:</span></span><br><span class="line"><span class="hljs-attr">            Github:</span></span><br><span class="line"><span class="hljs-attr">                icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-github</span></span><br><span class="line"><span class="hljs-attr">                url:</span> <span class="hljs-string">''</span></span><br><span class="line"><span class="hljs-attr">            StackOverflow:</span></span><br><span class="line"><span class="hljs-attr">                icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-stack-overflow</span></span><br><span class="line"><span class="hljs-attr">                url:</span> <span class="hljs-string">''</span></span><br><span class="line"><span class="hljs-attr">            Steam:</span></span><br><span class="line"><span class="hljs-attr">                icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-steam</span></span><br><span class="line"><span class="hljs-attr">                url:</span> <span class="hljs-string">''</span></span><br><span class="line"><span class="hljs-attr">            Instagram:</span></span><br><span class="line"><span class="hljs-attr">                icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-instagram</span></span><br><span class="line"><span class="hljs-attr">                url:</span> <span class="hljs-string">''</span></span><br><span class="line"><span class="hljs-attr">            Weibo:</span></span><br><span class="line"><span class="hljs-attr">                icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-weibo</span></span><br><span class="line"><span class="hljs-attr">                url:</span> <span class="hljs-string">''</span></span><br><span class="line"><span class="hljs-attr">            Facebook:</span></span><br><span class="line"><span class="hljs-attr">                icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-facebook</span></span><br><span class="line"><span class="hljs-attr">                url:</span> <span class="hljs-string">''</span></span><br><span class="line"><span class="hljs-attr">            Twitter:</span></span><br><span class="line"><span class="hljs-attr">                icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-twitter</span></span><br><span class="line"><span class="hljs-attr">                url:</span> <span class="hljs-string">''</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">toc</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">right</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">links</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">left</span></span><br><span class="line">        <span class="hljs-comment"># Links to be shown in the links widget</span></span><br><span class="line"><span class="hljs-attr">        links:</span></span><br><span class="line">            <span class="hljs-string">GitHub</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Thesharing:</span> <span class="hljs-attr">http://github.com/thesharing/</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">recent_posts</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">right</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">archive</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">right</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">category</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">right</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">tag</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">right</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">tagcloud</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">left</span></span><br><span class="line"><span class="hljs-comment"># Other plugin settings</span></span><br><span class="line"><span class="hljs-attr">plugins:</span></span><br><span class="line">    <span class="hljs-comment"># Enable page animations</span></span><br><span class="line"><span class="hljs-attr">    animejs:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Enable the lightGallery and Justified Gallery plugins</span></span><br><span class="line">    <span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/Plugins/General/gallery-plugin/</span></span><br><span class="line"><span class="hljs-attr">    gallery:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Enable the Outdated Browser plugin</span></span><br><span class="line">    <span class="hljs-comment"># http://outdatedbrowser.com/</span></span><br><span class="line"><span class="hljs-attr">    outdated-browser:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Enable the MathJax plugin</span></span><br><span class="line">    <span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/Plugins/General/mathjax-plugin/</span></span><br><span class="line"><span class="hljs-attr">    mathjax:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Show the back to top button on mobile devices</span></span><br><span class="line"><span class="hljs-attr">    back-to-top:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Google Analytics plugin settings</span></span><br><span class="line">    <span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/Plugins/General/site-analytics-plugin/#Google-Analytics</span></span><br><span class="line"><span class="hljs-attr">    google-analytics:</span></span><br><span class="line">        <span class="hljs-comment"># Google Analytics tracking id</span></span><br><span class="line"><span class="hljs-attr">        tracking_id:</span> </span><br><span class="line">    <span class="hljs-comment"># Baidu Analytics plugin settings</span></span><br><span class="line">    <span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/Plugins/General/site-analytics-plugin/#Baidu-Analytics</span></span><br><span class="line"><span class="hljs-attr">    baidu-analytics:</span></span><br><span class="line">        <span class="hljs-comment"># Baidu Analytics tracking id</span></span><br><span class="line"><span class="hljs-attr">        tracking_id:</span> </span><br><span class="line">    <span class="hljs-comment"># Hotjar user feedback plugin</span></span><br><span class="line">    <span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/Plugins/General/site-analytics-plugin/#Hotjar</span></span><br><span class="line">    <span class="hljs-comment"># hotjar:</span></span><br><span class="line">    <span class="hljs-comment">#     # Hotjar site id</span></span><br><span class="line">    <span class="hljs-comment">#     site_id: </span></span><br><span class="line">    <span class="hljs-comment"># Show a loading progress bar at top of the page</span></span><br><span class="line"><span class="hljs-attr">    progressbar:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Show the copy button in the highlighted code area</span></span><br><span class="line"><span class="hljs-attr">    clipboard:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># BuSuanZi site/page view counter</span></span><br><span class="line">    <span class="hljs-comment"># https://busuanzi.ibruce.info</span></span><br><span class="line"><span class="hljs-attr">    busuanzi:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-comment"># CDN provider settings</span></span><br><span class="line"><span class="hljs-comment"># http://ppoffice.github.io/hexo-theme-icarus/Configuration/Theme/speed-up-your-site-with-custom-cdn/</span></span><br><span class="line"><span class="hljs-attr">providers:</span></span><br><span class="line">    <span class="hljs-comment"># Name or URL of the JavaScript and/or stylesheet CDN provider</span></span><br><span class="line"><span class="hljs-attr">    cdn:</span> <span class="hljs-string">unpkg</span></span><br><span class="line">    <span class="hljs-comment"># Name or URL of the webfont CDN provider</span></span><br><span class="line"><span class="hljs-attr">    fontcdn:</span> <span class="hljs-string">google</span></span><br><span class="line">    <span class="hljs-comment"># Name or URL of the webfont Icon CDN provider</span></span><br><span class="line"><span class="hljs-attr">    iconcdn:</span> <span class="hljs-string">fontawesome</span></span><br></pre></td></tr></table></figure><h3 id="可配置项"><a href="#可配置项" class="headerlink" title="可配置项"></a>可配置项</h3><ul><li>在配置的<code>navbar</code>部分中按照<code>页面名: 页面目录</code>的格式可以自行添加页面。</li><li><code>logo</code>中可以设置Logo以及Logo大小。建议直接替换而非自定目录。</li><li><code>avatar</code>中设置资料页的头像，<code>author</code>为作者名，<code>author_title</code>为作者介绍，<code>location</code>为地区，<code>follow</code>为“关注我”指向的地址。</li><li><code>highlight</code>为语法高亮的主题</li><li><code>sidebar</code>为资料页的位置（左、右）</li><li><code>thumbnail</code>设置是否显示缩略图</li><li><code>favicon</code>设置网站图标</li><li><code>social_links</code>设置社交图标</li><li><code>comment</code>设置评论系统，<code>disqus</code>后填入论坛名即可</li><li><code>plugin</code>中设置Google站长分析等插件信息</li></ul><h3 id="Disqus"><a href="#Disqus" class="headerlink" title="Disqus"></a>Disqus</h3><p>进入<a href="https://disqus.com/" target="_blank" rel="noopener">Disqus</a>完成注册以后，点击右上角的“设置”，选择“Add Disqus To Site”，然后按照向导进行设置即可。这里要注意，<code>Disqus URL</code>中填写的就是上面设置文件中要填写的论坛名。</p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com/4.png" alt="Disqus 设置"></p><p><img src="http://7xr64j.com1.z0.glb.clouddn.com/5.png" alt="Disqus 设置"></p><h3 id="生成并预览"><a href="#生成并预览" class="headerlink" title="生成并预览"></a>生成并预览</h3><p>设置完成后，在hexo文件夹下打开命令行输入</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>如果运行成功，那么输入<code>localhost:4000</code>即可打开你的个人主页。</p><h2 id="部署你的Blog"><a href="#部署你的Blog" class="headerlink" title="部署你的Blog"></a>部署你的Blog</h2><p>之前我们一直在本地运行，接下来我们要把个人主页部署到GitHub上去。在每一次对设置的修改以及写文章之后都要用<code>hexo generate</code>命令重新生成一次。然后右击hexo文件夹，选择<code>Git Bash Here</code>，打开Git Bash，在Git Bash中输入</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>等待安装完成以后，再执行：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>有可能会提示输入邮箱和密码，按照之前设置的输入即可。如果失败可能是网络问题，重新尝试一下。</p><p>提示成功以后可以在你的GitHub的该Repository下看到Commit成功+1，说明服务器已经接受了你的提交，一般等待3-5分钟以后，你的Blog便会被刷新。此时用<code>你的用户名.github.io</code>即可访问到你的Blog，怎么样，是不是很Coooool？</p><h2 id="写文章"><a href="#写文章" class="headerlink" title="写文章"></a>写文章</h2><p>那么说了这么多，个人主页已经建好，接下来就是充实内容了。内容怎么充实呢？写文章咯。</p><p>在hexo文件夹下打开命令行，输入：</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure><p>这里<code>[layout]</code>是指你所用的模板名称，所有模板都在<code>hexo\scaffolds\</code>文件夹下存放，关于模板的更多信息，请访问<a href="https://hexo.io/zh-cn/docs/writing.html" target="_blank" rel="noopener">官方Doc</a>，里面有很详尽的解释。</p><p><code>title</code>则是文章的标题，可以为中文。 在执行完命令后，到<code>hexo\source\_posts\</code>文件夹下可以找到生成的Markdown文件。用MarkdownPad 2或者Visual Studio Code打开Markdown文件即可开始书写你的文章，正如我现在所做。至于<a href="https://gist.github.com/Thesharing/5e5f5842ede0cb6d95d38ea39d9e0234" target="_blank" rel="noopener">Markdown文法</a>，又是一个大坑。</p><p>对于图片，我们需要将文章中要用到的图片上传至图床然后引用外链。图床是指存放图片的云存储空间，我个人正在使用的是<a href="www.qiniu.com">七牛</a>，可以找一个适合自己的图床一直用下去。</p><p>在写完文章以后，再次<code>hexo generate</code>然后部署就可以了。</p><p>Markdown教程：<a href="http://thesharing.github.io/2016/10/14/How-to-write-Markdown/" target="_blank" rel="noopener">如何快速掌握Markdown语法？</a></p><p>Hexo中支持的语法高亮：<a href="http://highlightjs.readthedocs.io/en/latest/css-classes-reference.html#language-names-and-aliases" target="_blank" rel="noopener">highlight.js - CSS classes reference</a></p><h2 id="更多配置"><a href="#更多配置" class="headerlink" title="更多配置"></a>更多配置</h2><h3 id="添加站长统计和SiteMap"><a href="#添加站长统计和SiteMap" class="headerlink" title="添加站长统计和SiteMap"></a>添加站长统计和SiteMap</h3><p>为了提升在搜索引擎中的搜索权重，可以通过添加站长统计以及提交SiteMap进一步优化SEO。</p><p>首先注册<a href="https://tongji.baidu.com/" target="_blank" rel="noopener">百度站长统计</a>和 <a href="https://analytics.google.com/analytics/web/" target="_blank" rel="noopener">Google Analytics</a>，获得追踪ID。对于百度站长统计来说，只需要在管理后台的<code>新版统计代码获取</code>页面复制追踪ID至icarus的<code>baidu-analytics</code> - <code>tracking_id</code>即可。对于Google Analytics来说，只需要在管理后台的<code>媒体资源设置</code>页面复制<code>跟踪 ID</code>至icarus的<code>google-analytics</code> - <code>tracking_id</code>即可。</p><p>然后需要生成SiteMap。在Hexo根目录下执行：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><p>安装完成后在Hexo文件夹中的<code>_config.yml</code>中添加：</p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">sitemap:</span></span><br><span class="line"><span class="hljs-attr">  path:</span> <span class="hljs-string">sitemap.xml</span></span><br><span class="line"><span class="hljs-attr">baidusitemap:</span></span><br><span class="line"><span class="hljs-attr">  path:</span> <span class="hljs-string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure><p>然后运行<code>hexo -g</code>即可生成sitemap.xml和baidusitemap.xml文件。</p><p>在生成了SiteMap文件后需要进行提交。</p><p>百度提交方式为：</p><p>访问<a href="https://ziyuan.baidu.com/linksubmit/index" target="_blank" rel="noopener">链接提交|百度搜索资源平台</a>并用百度账号登录，然后选择<code>自动提交</code> - <code>sitemap</code>方式填入baidusitemap.xml的地址即可。</p><p>Google提交方式为：</p><p>访问<a href="https://www.google.com/webmasters/tools/" target="_blank" rel="noopener">Search Console</a>，用Google账号登录，下载Google验证网页，将其放入<code>hexo/source</code>文件夹中，同时在Hexo的<code>_config.yml</code>文件中设置渲染排除项：</p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">skip_render:</span> <span class="hljs-string">[readme.md,</span> <span class="hljs-string">"*.html"</span><span class="hljs-string">,</span> <span class="hljs-string">"*.htm"</span><span class="hljs-string">]</span></span><br></pre></td></tr></table></figure><p>然后运行<code>hexo generate</code>并运行<code>hexo deploy</code>。接着在Search Console的<code>抓取</code> - <code>站点地图</code>部分指定sitemap.xml的地址即可。</p><p>可参考<a href="https://www.jianshu.com/p/5e68f78c7791" target="_blank" rel="noopener">hexo干货系列：（六）hexo提交搜索引擎（百度+谷歌）</a></p><h3 id="支持数学公式"><a href="#支持数学公式" class="headerlink" title="支持数学公式"></a>支持数学公式</h3><p>目前主流的数学公式库为MathJax，对于icarus这样直接支持MathJax的主题，在其<code>_config.yml</code>文件的<code>plugin</code>部分设置<code>mathjax: true</code>即可。</p><p>对于不支持MathJax的主题来说，在Hexo根目录下运行：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-math</span><br></pre></td></tr></table></figure><p>然后在Hexo的<code>_config.yml</code>文件中设置MathJax：</p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">math:</span></span><br><span class="line"><span class="hljs-attr">  engine:</span> <span class="hljs-string">'mathjax'</span></span><br><span class="line"><span class="hljs-attr">  mathjax:</span></span><br><span class="line"><span class="hljs-attr">    src:</span> <span class="hljs-string">custom_mathjax_source</span></span><br><span class="line"><span class="hljs-attr">    config:</span></span><br><span class="line">      <span class="hljs-comment"># MATHJAX CONFIG</span></span><br></pre></td></tr></table></figure><p>可参考<a href="http://stevenshi.me/2017/06/26/hexo-insert-formula/" target="_blank" rel="noopener">hexo中插入数学公式</a></p><h3 id="添加RSS订阅"><a href="#添加RSS订阅" class="headerlink" title="添加RSS订阅"></a>添加RSS订阅</h3><p>首先在Hexo根目录下运行：</p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-generator-feed</span><br></pre></td></tr></table></figure><p>然后在Hexo的<code>_config.yml</code>文件中添加配置：</p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">feed:</span></span><br><span class="line"><span class="hljs-attr">  type:</span> <span class="hljs-string">atom</span></span><br><span class="line"><span class="hljs-attr">  path:</span> <span class="hljs-string">rss.xml</span></span><br><span class="line"><span class="hljs-attr">  limit:</span> <span class="hljs-number">0</span></span><br><span class="line"><span class="hljs-attr">  hub:</span></span><br><span class="line"><span class="hljs-attr">  content:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">  order_by:</span> <span class="hljs-bullet">-date</span></span><br></pre></td></tr></table></figure><p>接着在icarus的<code>_config.yml</code>文件中添加RSS的入口，可以在<code>Navbar</code>部分添加RSS链接：</p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">navbar:</span></span><br><span class="line">    <span class="hljs-comment"># Navigation bar menu links</span></span><br><span class="line"><span class="hljs-attr">    menu:</span></span><br><span class="line">        <span class="hljs-string">首页:</span> <span class="hljs-string">/</span></span><br><span class="line">        <span class="hljs-string">归档:</span> <span class="hljs-string">/archives</span></span><br><span class="line">        <span class="hljs-string">关于:</span> <span class="hljs-string">/about</span></span><br><span class="line"><span class="hljs-attr">        RSS:</span> <span class="hljs-string">/rss.xml</span></span><br></pre></td></tr></table></figure><p>也可以在<code>Social Links</code>部分添加：</p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">social_links:</span></span><br><span class="line"><span class="hljs-attr">RSS:</span></span><br><span class="line"><span class="hljs-attr">icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-rss</span></span><br><span class="line"><span class="hljs-attr">url:</span> <span class="hljs-string">'/rss.xml'</span></span><br></pre></td></tr></table></figure><p>可参考<a href="https://segmentfault.com/a/1190000012647294" target="_blank" rel="noopener">为hexo博客添加RSS订阅功能</a></p><h3 id="节点分流"><a href="#节点分流" class="headerlink" title="节点分流"></a>节点分流</h3><p>如果你已经将你的个人主页挂靠在自己申请的域名上，那么你可以通过域名解析进行节点分流，国外用户访问GitHub，国内用户访问coding.net，从而解决GitHub在国内访问速度慢的问题。</p><p>首先在coding.net（现在又称腾讯云开发者平台）注册账号，并新建一个项目，然后在项目设置中开启Pages服务。然后在Hexo的<code>_config.xml</code>文件中设置<code>deploy</code>到多个仓库中：</p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">deploy:</span></span><br><span class="line"><span class="hljs-attr">  type:</span> <span class="hljs-string">git</span></span><br><span class="line"><span class="hljs-attr">  repository:</span></span><br><span class="line"><span class="hljs-attr">    github:</span> <span class="hljs-string">git@github.com:abc/abc.github.io.git</span></span><br><span class="line"><span class="hljs-attr">    tencent:</span> <span class="hljs-string">git@git.dev.tencent.com:abc/abc.git</span></span><br></pre></td></tr></table></figure><p>接下来运行<code>hexo d</code>将页面分别部署到两个仓库中。访问coding.net / GitHub提供的原始网址，保证可以正常访问。</p><p>再在云服务商的域名解析页面进行设置，添加CNAME记录，境外线路指向abc.github.io，境内线路指向abc.coding.me。等待DNS刷新后就可以进行节点分流了。</p><h2 id="推荐阅读-与-参考资料"><a href="#推荐阅读-与-参考资料" class="headerlink" title="推荐阅读 与 参考资料"></a>推荐阅读 与 参考资料</h2><p><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">文档 | Hexo</a></p><p><a href="http://zipperary.com/2013/05/28/hexo-guide-2/" target="_blank" rel="noopener">Hexo系列教程 - 2</a></p><p><a href="http://www.jianshu.com/p/05289a4bc8b2" target="_blank" rel="noopener">如何搭建一个独立博客——简明Github Pages与Hexo教程</a></p><p><a href="http://ibruce.info/2013/11/22/hexo-your-blog/" target="_blank" rel="noopener">Hexo你的博客</a></p><p><a href="https://github.com/hexojs/hexo/wiki/" target="_blank" rel="noopener">Hexo的GitHub文档（英文）</a></p><p><a href="https://gist.github.com/Thesharing/5e5f5842ede0cb6d95d38ea39d9e0234" target="_blank" rel="noopener">Markdown 语法</a></p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><ol><li><p>Markdown Pad 2 无法正常预览怎么办？</p><p> 按照官网提示，安装<a href="http://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe" target="_blank" rel="noopener">Awesomium 1.6.6 SDK</a>以及<a href="http://www.microsoft.com/en-us/download/details.aspx?id=8109" target="_blank" rel="noopener">Microsoft’s DirectX End-User Runtimes (June 2010)</a>以后可以解决。</p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;不知道有没有人像我一样，想要建立个人主页，可是对JaveScript和PHP都不了解。不过现在好了，基于开源的Hexo，只需1小时，即可在GitHub搭建一个简单又美观的个人主页，并在上面发表你的第一篇文章。Here we go.&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Basic" scheme="http://www.cyprestar.com/categories/Basic/"/>
    
    
      <category term="Hexo" scheme="http://www.cyprestar.com/tags/Hexo/"/>
    
  </entry>
  
</feed>
